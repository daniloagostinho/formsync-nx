{"ast":null,"code":"import { ElementRef, QueryList } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { AuthService } from '../../services/auth.service';\nimport { ErrorHandlerService } from '../../services/error-handler.service';\nimport { FooterComponent } from '../footer/footer.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../../services/auth.service\";\nimport * as i3 from \"../../services/error-handler.service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nconst _c0 = [\"codigoInput\"];\nconst _c1 = () => [0, 1, 2, 3, 4, 5];\nfunction VerificarCodigoComponent_div_39_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 36)(1, \"div\", 37);\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(2, \"svg\", 38);\n    i0.ɵɵelement(3, \"path\", 39);\n    i0.ɵɵelementEnd();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(4, \"span\", 40);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r1.mensagemErro);\n  }\n}\nfunction VerificarCodigoComponent_div_40_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 41)(1, \"div\", 37);\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(2, \"svg\", 42);\n    i0.ɵɵelement(3, \"path\", 43);\n    i0.ɵɵelementEnd();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(4, \"span\", 44);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r1.mensagemSucesso);\n  }\n}\nfunction VerificarCodigoComponent_input_47_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"input\", 45, 1);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function VerificarCodigoComponent_input_47_Template_input_ngModelChange_0_listener($event) {\n      const i_r4 = i0.ɵɵrestoreView(_r3).$implicit;\n      const ctx_r1 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r1.codigoArray[i_r4], $event) || (ctx_r1.codigoArray[i_r4] = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵlistener(\"input\", function VerificarCodigoComponent_input_47_Template_input_input_0_listener($event) {\n      const i_r4 = i0.ɵɵrestoreView(_r3).$implicit;\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.onInput($event, i_r4));\n    })(\"keydown\", function VerificarCodigoComponent_input_47_Template_input_keydown_0_listener($event) {\n      const i_r4 = i0.ɵɵrestoreView(_r3).$implicit;\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.onKeyDown($event, i_r4));\n    })(\"paste\", function VerificarCodigoComponent_input_47_Template_input_paste_0_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.onPaste($event));\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const i_r4 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵclassMap(\"w-12 h-12 text-center text-lg font-semibold border rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors duration-200 \" + (ctx_r1.mensagemErro ? \"border-red-500\" : \"border-gray-300\"));\n    i0.ɵɵproperty(\"name\", i0.ɵɵinterpolate1(\"codigo\", i_r4));\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r1.codigoArray[i_r4]);\n    i0.ɵɵproperty(\"id\", \"codigo\" + i_r4);\n  }\n}\nfunction VerificarCodigoComponent_div_51_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"div\", 46);\n  }\n}\nfunction VerificarCodigoComponent_div_52_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"div\", 46);\n  }\n}\nfunction VerificarCodigoComponent__svg_svg_53_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(0, \"svg\", 47);\n    i0.ɵɵelement(1, \"path\", 43);\n    i0.ɵɵelementEnd();\n  }\n}\nexport class VerificarCodigoComponent {\n  route;\n  authService;\n  router;\n  errorHandler;\n  email = '';\n  codigoArray = ['', '', '', '', '', ''];\n  mensagemErro = '';\n  carregando = false;\n  carregandoNovoCodigo = false;\n  mensagemSucesso = '';\n  inputs;\n  constructor(route, authService, router, errorHandler) {\n    this.route = route;\n    this.authService = authService;\n    this.router = router;\n    this.errorHandler = errorHandler;\n    this.route.queryParams.subscribe(params => {\n      this.email = params['email'] || '';\n    });\n  }\n  get codigo() {\n    return this.codigoArray.join('');\n  }\n  verificarCodigo() {\n    if (this.codigo.length < 6) {\n      this.mensagemErro = 'Código incompleto.';\n      return;\n    }\n    if (this.carregando) {\n      return; // Prevent duplicate submissions\n    }\n    this.carregando = true;\n    console.log('🔐 Verificando código:', this.codigo, 'para email:', this.email);\n    this.authService.verificarCodigo(this.email, this.codigo).subscribe({\n      next: res => {\n        console.log('✅ Código verificado com sucesso:', res);\n        this.authService.salvarToken(res.token);\n        this.authService.salvarNomeUsuario(res.nome);\n        localStorage.setItem('plano', res.plano);\n        // Mostrar mensagem de sucesso e redirecionar após delay\n        this.mostrarSucessoERedirecionar();\n      },\n      error: err => {\n        console.error('❌ Erro na verificação:', err);\n        this.carregando = false;\n        this.mensagemErro = this.errorHandler.getErrorMessage(err);\n      }\n    });\n  }\n  mostrarSucessoERedirecionar() {\n    console.log('✅ [LOGIN] Mostrando sucesso e preparando redirecionamento...');\n    // Mostrar mensagem de sucesso e desabilitar campos\n    this.mensagemErro = '';\n    this.mensagemSucesso = 'Login realizado com sucesso! Redirecionando...';\n    this.carregando = false; // Parar o loading do botão\n    // Redirecionar para o dashboard após 2 segundos\n    setTimeout(() => {\n      console.log('🔄 [LOGIN] Redirecionando para dashboard...');\n      this.router.navigate(['/dashboard']);\n    }, 2000);\n  }\n  onInput(event, index) {\n    const input = event.target;\n    const value = input.value;\n    if (value.length === 1 && /^\\d$/.test(value)) {\n      this.codigoArray[index] = value;\n      const next = this.inputs.get(index + 1);\n      next?.nativeElement.focus();\n    } else if (value.length > 1) {\n      // colou o código\n      const pasted = value.replace(/\\D/g, '').slice(0, 6).split('');\n      pasted.forEach((char, i) => {\n        this.codigoArray[i] = char;\n        const inputRef = this.inputs.get(i);\n        if (inputRef) inputRef.nativeElement.value = char;\n      });\n      const last = this.inputs.get(pasted.length - 1);\n      last?.nativeElement.focus();\n    } else {\n      this.codigoArray[index] = '';\n    }\n  }\n  onKeyDown(event, index) {\n    if (event.key === 'Backspace' && !this.codigoArray[index] && index > 0) {\n      const prev = this.inputs.get(index - 1);\n      prev?.nativeElement.focus();\n    }\n  }\n  onPaste(event) {\n    event.preventDefault();\n    const clipboardData = event.clipboardData?.getData('text');\n    if (!clipboardData) return;\n    const pasted = clipboardData.replace(/\\D/g, '').slice(0, 6).split('');\n    if (pasted.length > 0) {\n      pasted.forEach((char, i) => {\n        this.codigoArray[i] = char;\n        const inputRef = this.inputs.get(i);\n        if (inputRef) inputRef.nativeElement.value = char;\n      });\n      const last = this.inputs.get(Math.min(pasted.length - 1, 5));\n      last?.nativeElement.focus();\n    }\n  }\n  solicitarNovoCodigo() {\n    if (this.carregandoNovoCodigo) return;\n    this.carregandoNovoCodigo = true;\n    this.mensagemErro = '';\n    this.authService.enviarCodigo(this.email).subscribe({\n      next: () => {\n        this.carregandoNovoCodigo = false;\n        // Mostrar mensagem de sucesso usando snackbar\n        this.mostrarMensagemSucesso('Novo código enviado com sucesso!');\n        // Limpar campos de código\n        this.codigoArray = ['', '', '', '', '', ''];\n        this.inputs.forEach(input => {\n          if (input.nativeElement) {\n            input.nativeElement.value = '';\n          }\n        });\n      },\n      error: error => {\n        this.carregandoNovoCodigo = false;\n        this.mensagemErro = this.errorHandler.getErrorMessage(error);\n      }\n    });\n  }\n  voltarAoLogin() {\n    this.router.navigate(['/login']);\n  }\n  mostrarMensagemSucesso(mensagem) {\n    // Usar snackbar do Angular Material\n    const snackBar = document.createElement('div');\n    snackBar.className = 'snackbar-success';\n    snackBar.textContent = mensagem;\n    snackBar.style.cssText = `\n      position: fixed;\n      bottom: 20px;\n      left: 50%;\n      transform: translateX(-50%);\n      background: #4caf50;\n      color: white;\n      padding: 12px 24px;\n      border-radius: 4px;\n      z-index: 1000;\n      font-weight: 500;\n    `;\n    document.body.appendChild(snackBar);\n    setTimeout(() => {\n      if (snackBar.parentNode) {\n        snackBar.remove();\n      }\n    }, 3000);\n  }\n  static ɵfac = function VerificarCodigoComponent_Factory(__ngFactoryType__) {\n    return new (__ngFactoryType__ || VerificarCodigoComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.AuthService), i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i3.ErrorHandlerService));\n  };\n  static ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: VerificarCodigoComponent,\n    selectors: [[\"app-verificar-codigo\"]],\n    viewQuery: function VerificarCodigoComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 5);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.inputs = _t);\n      }\n    },\n    decls: 63,\n    vars: 12,\n    consts: [[\"codigoForm\", \"ngForm\"], [\"codigoInput\", \"\"], [1, \"min-h-screen\", \"bg-white\", \"flex\", \"items-center\", \"justify-center\", \"px-6\"], [1, \"w-full\", \"max-w-6xl\"], [1, \"grid\", \"grid-cols-1\", \"lg:grid-cols-2\", \"gap-12\", \"items-center\"], [1, \"text-center\", \"lg:text-left\", \"lg:pl-4\"], [1, \"text-5xl\", \"lg:text-6xl\", \"font-black\", \"text-gray-900\", \"mb-6\", \"leading-tight\"], [1, \"text-xl\", \"text-gray-600\", \"mb-8\", \"leading-relaxed\"], [1, \"bg-gray-50\", \"rounded-lg\", \"p-6\", \"mb-8\", \"border\", \"border-gray-100\"], [1, \"flex\", \"items-center\", \"gap-3\", \"justify-center\", \"lg:justify-start\", \"mb-4\"], [1, \"w-10\", \"h-10\", \"bg-indigo-600\", \"rounded-lg\", \"flex\", \"items-center\", \"justify-center\"], [\"fill\", \"none\", \"stroke\", \"currentColor\", \"viewBox\", \"0 0 24 24\", 1, \"w-6\", \"h-6\", \"text-white\"], [\"stroke-linecap\", \"round\", \"stroke-linejoin\", \"round\", \"stroke-width\", \"2\", \"d\", \"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z\"], [1, \"font-semibold\", \"text-gray-900\"], [1, \"text-sm\", \"text-gray-600\"], [1, \"space-y-4\"], [1, \"flex\", \"items-center\", \"gap-3\", \"justify-center\", \"lg:justify-start\"], [1, \"w-2\", \"h-2\", \"bg-green-500\", \"rounded-full\"], [1, \"text-gray-600\"], [1, \"bg-gray-50\", \"rounded-lg\", \"p-8\", \"border\", \"border-gray-100\", \"lg:pr-4\"], [1, \"text-center\", \"mb-8\"], [1, \"text-2xl\", \"font-bold\", \"text-gray-900\", \"mb-2\"], [\"class\", \"bg-red-50 border border-red-200 rounded-lg p-4 mb-6\", 4, \"ngIf\"], [\"class\", \"bg-green-50 border border-green-200 rounded-lg p-4 mb-6\", 4, \"ngIf\"], [1, \"space-y-6\", 3, \"ngSubmit\"], [1, \"block\", \"text-sm\", \"font-medium\", \"text-gray-700\", \"mb-3\", \"text-center\"], [1, \"flex\", \"gap-3\", \"justify-center\"], [\"type\", \"text\", \"maxlength\", \"1\", \"autocomplete\", \"off\", \"inputmode\", \"numeric\", \"pattern\", \"[0-9]\", \"required\", \"\", \"data-cy\", \"verification-code\", 3, \"ngModel\", \"name\", \"class\", \"id\", \"ngModelChange\", \"input\", \"keydown\", \"paste\", 4, \"ngFor\", \"ngForOf\"], [1, \"text-sm\", \"text-gray-600\", \"text-center\", \"mt-3\"], [\"type\", \"submit\", \"data-cy\", \"verify-button\", 1, \"w-full\", \"py-4\", \"px-6\", \"bg-indigo-600\", \"text-white\", \"font-semibold\", \"text-lg\", \"rounded-lg\", \"hover:bg-indigo-700\", \"transition-colors\", \"duration-200\", \"disabled:bg-gray-400\", \"disabled:cursor-not-allowed\", \"flex\", \"items-center\", \"justify-center\", \"gap-3\", 3, \"disabled\"], [\"class\", \"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin\", 4, \"ngIf\"], [\"class\", \"w-5 h-5\", \"fill\", \"none\", \"stroke\", \"currentColor\", \"viewBox\", \"0 0 24 24\", 4, \"ngIf\"], [1, \"space-y-3\"], [1, \"text-center\"], [\"type\", \"button\", 1, \"text-indigo-600\", \"hover:text-indigo-700\", \"font-medium\", \"transition-colors\", \"duration-200\", \"disabled:text-gray-400\", 3, \"click\", \"disabled\"], [\"type\", \"button\", 1, \"text-gray-600\", \"font-medium\", \"hover:text-gray-900\", \"transition-colors\", \"duration-200\", 3, \"click\"], [1, \"bg-red-50\", \"border\", \"border-red-200\", \"rounded-lg\", \"p-4\", \"mb-6\"], [1, \"flex\", \"items-center\", \"gap-3\"], [\"fill\", \"none\", \"stroke\", \"currentColor\", \"viewBox\", \"0 0 24 24\", 1, \"w-5\", \"h-5\", \"text-red-600\", \"flex-shrink-0\"], [\"stroke-linecap\", \"round\", \"stroke-linejoin\", \"round\", \"stroke-width\", \"2\", \"d\", \"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.34 16.5c-.77.833.192 2.5 1.732 2.5z\"], [1, \"text-red-800\", \"text-sm\", \"font-medium\"], [1, \"bg-green-50\", \"border\", \"border-green-200\", \"rounded-lg\", \"p-4\", \"mb-6\"], [\"fill\", \"none\", \"stroke\", \"currentColor\", \"viewBox\", \"0 0 24 24\", 1, \"w-5\", \"h-5\", \"text-green-600\", \"flex-shrink-0\"], [\"stroke-linecap\", \"round\", \"stroke-linejoin\", \"round\", \"stroke-width\", \"2\", \"d\", \"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\"], [1, \"text-green-800\", \"text-sm\", \"font-medium\"], [\"type\", \"text\", \"maxlength\", \"1\", \"autocomplete\", \"off\", \"inputmode\", \"numeric\", \"pattern\", \"[0-9]\", \"required\", \"\", \"data-cy\", \"verification-code\", 3, \"ngModelChange\", \"input\", \"keydown\", \"paste\", \"ngModel\", \"name\", \"id\"], [1, \"w-5\", \"h-5\", \"border-2\", \"border-white\", \"border-t-transparent\", \"rounded-full\", \"animate-spin\"], [\"fill\", \"none\", \"stroke\", \"currentColor\", \"viewBox\", \"0 0 24 24\", 1, \"w-5\", \"h-5\"]],\n    template: function VerificarCodigoComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        const _r1 = i0.ɵɵgetCurrentView();\n        i0.ɵɵelementStart(0, \"section\", 2)(1, \"div\", 3)(2, \"div\", 4)(3, \"div\", 5)(4, \"h1\", 6);\n        i0.ɵɵtext(5, \" Verificar c\\u00F3digo \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"p\", 7);\n        i0.ɵɵtext(7, \" Digite o c\\u00F3digo de 6 d\\u00EDgitos que enviamos para seu email \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"div\", 8)(9, \"div\", 9)(10, \"div\", 10);\n        i0.ɵɵnamespaceSVG();\n        i0.ɵɵelementStart(11, \"svg\", 11);\n        i0.ɵɵelement(12, \"path\", 12);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵnamespaceHTML();\n        i0.ɵɵelementStart(13, \"div\")(14, \"h3\", 13);\n        i0.ɵɵtext(15, \"Verifica\\u00E7\\u00E3o Segura\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(16, \"p\", 14);\n        i0.ɵɵtext(17, \"C\\u00F3digo enviado para: \");\n        i0.ɵɵelementStart(18, \"strong\");\n        i0.ɵɵtext(19);\n        i0.ɵɵelementEnd()()()()();\n        i0.ɵɵelementStart(20, \"div\", 15)(21, \"div\", 16);\n        i0.ɵɵelement(22, \"div\", 17);\n        i0.ɵɵelementStart(23, \"span\", 18);\n        i0.ɵɵtext(24, \"C\\u00F3digo v\\u00E1lido por 10 minutos\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(25, \"div\", 16);\n        i0.ɵɵelement(26, \"div\", 17);\n        i0.ɵɵelementStart(27, \"span\", 18);\n        i0.ɵɵtext(28, \"Verifica\\u00E7\\u00E3o criptografada\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(29, \"div\", 16);\n        i0.ɵɵelement(30, \"div\", 17);\n        i0.ɵɵelementStart(31, \"span\", 18);\n        i0.ɵɵtext(32, \"Acesso seguro garantido\");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(33, \"div\", 19)(34, \"div\", 20)(35, \"h2\", 21);\n        i0.ɵɵtext(36, \"C\\u00F3digo de Verifica\\u00E7\\u00E3o\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(37, \"p\", 18);\n        i0.ɵɵtext(38, \"Digite os 6 d\\u00EDgitos que enviamos para voc\\u00EA\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(39, VerificarCodigoComponent_div_39_Template, 6, 1, \"div\", 22)(40, VerificarCodigoComponent_div_40_Template, 6, 1, \"div\", 23);\n        i0.ɵɵelementStart(41, \"form\", 24, 0);\n        i0.ɵɵlistener(\"ngSubmit\", function VerificarCodigoComponent_Template_form_ngSubmit_41_listener() {\n          i0.ɵɵrestoreView(_r1);\n          return i0.ɵɵresetView(ctx.verificarCodigo());\n        });\n        i0.ɵɵelementStart(43, \"div\")(44, \"label\", 25);\n        i0.ɵɵtext(45, \"C\\u00F3digo de 6 d\\u00EDgitos\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(46, \"div\", 26);\n        i0.ɵɵtemplate(47, VerificarCodigoComponent_input_47_Template, 2, 6, \"input\", 27);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(48, \"p\", 28);\n        i0.ɵɵtext(49, \" Digite os 6 d\\u00EDgitos do c\\u00F3digo enviado para seu e-mail \");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(50, \"button\", 29);\n        i0.ɵɵtemplate(51, VerificarCodigoComponent_div_51_Template, 1, 0, \"div\", 30)(52, VerificarCodigoComponent_div_52_Template, 1, 0, \"div\", 30)(53, VerificarCodigoComponent__svg_svg_53_Template, 2, 0, \"svg\", 31);\n        i0.ɵɵtext(54);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(55, \"div\", 32)(56, \"div\", 33)(57, \"button\", 34);\n        i0.ɵɵlistener(\"click\", function VerificarCodigoComponent_Template_button_click_57_listener() {\n          i0.ɵɵrestoreView(_r1);\n          return i0.ɵɵresetView(ctx.solicitarNovoCodigo());\n        });\n        i0.ɵɵtext(58);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(59, \"div\", 33)(60, \"button\", 35);\n        i0.ɵɵlistener(\"click\", function VerificarCodigoComponent_Template_button_click_60_listener() {\n          i0.ɵɵrestoreView(_r1);\n          return i0.ɵɵresetView(ctx.voltarAoLogin());\n        });\n        i0.ɵɵtext(61, \" \\u2190 Voltar ao login \");\n        i0.ɵɵelementEnd()()()()()()()();\n        i0.ɵɵelement(62, \"app-footer\");\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(19);\n        i0.ɵɵtextInterpolate(ctx.email);\n        i0.ɵɵadvance(20);\n        i0.ɵɵproperty(\"ngIf\", ctx.mensagemErro);\n        i0.ɵɵadvance();\n        i0.ɵɵproperty(\"ngIf\", ctx.mensagemSucesso);\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpureFunction0(11, _c1));\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"disabled\", ctx.codigo.length < 6 || ctx.carregando || ctx.mensagemSucesso);\n        i0.ɵɵadvance();\n        i0.ɵɵproperty(\"ngIf\", ctx.carregando);\n        i0.ɵɵadvance();\n        i0.ɵɵproperty(\"ngIf\", ctx.mensagemSucesso);\n        i0.ɵɵadvance();\n        i0.ɵɵproperty(\"ngIf\", !ctx.carregando && !ctx.mensagemSucesso);\n        i0.ɵɵadvance();\n        i0.ɵɵtextInterpolate1(\" \", ctx.carregando ? \"Verificando c\\u00F3digo...\" : ctx.mensagemSucesso ? \"Redirecionando...\" : \"Verificar c\\u00F3digo\", \" \");\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"disabled\", ctx.carregandoNovoCodigo);\n        i0.ɵɵadvance();\n        i0.ɵɵtextInterpolate1(\" \", ctx.carregandoNovoCodigo ? \"Enviando...\" : \"Solicitar novo c\\u00F3digo\", \" \");\n      }\n    },\n    dependencies: [CommonModule, i4.NgForOf, i4.NgIf, FormsModule, i5.ɵNgNoValidate, i5.DefaultValueAccessor, i5.NgControlStatus, i5.NgControlStatusGroup, i5.RequiredValidator, i5.MaxLengthValidator, i5.PatternValidator, i5.NgModel, i5.NgForm, FooterComponent],\n    encapsulation: 2\n  });\n}","map":{"version":3,"names":["ElementRef","QueryList","ActivatedRoute","Router","CommonModule","FormsModule","AuthService","ErrorHandlerService","FooterComponent","i0","ɵɵelementStart","ɵɵelement","ɵɵelementEnd","ɵɵtext","ɵɵadvance","ɵɵtextInterpolate","ctx_r1","mensagemErro","mensagemSucesso","ɵɵtwoWayListener","VerificarCodigoComponent_input_47_Template_input_ngModelChange_0_listener","$event","i_r4","ɵɵrestoreView","_r3","$implicit","ɵɵnextContext","ɵɵtwoWayBindingSet","codigoArray","ɵɵresetView","ɵɵlistener","VerificarCodigoComponent_input_47_Template_input_input_0_listener","onInput","VerificarCodigoComponent_input_47_Template_input_keydown_0_listener","onKeyDown","VerificarCodigoComponent_input_47_Template_input_paste_0_listener","onPaste","ɵɵclassMap","ɵɵproperty","ɵɵinterpolate1","ɵɵtwoWayProperty","VerificarCodigoComponent","route","authService","router","errorHandler","email","carregando","carregandoNovoCodigo","inputs","constructor","queryParams","subscribe","params","codigo","join","verificarCodigo","length","console","log","next","res","salvarToken","token","salvarNomeUsuario","nome","localStorage","setItem","plano","mostrarSucessoERedirecionar","error","err","getErrorMessage","setTimeout","navigate","event","index","input","target","value","test","get","nativeElement","focus","pasted","replace","slice","split","forEach","char","i","inputRef","last","key","prev","preventDefault","clipboardData","getData","Math","min","solicitarNovoCodigo","enviarCodigo","mostrarMensagemSucesso","voltarAoLogin","mensagem","snackBar","document","createElement","className","textContent","style","cssText","body","appendChild","parentNode","remove","ɵɵdirectiveInject","i1","i2","i3","selectors","viewQuery","VerificarCodigoComponent_Query","rf","ctx","ɵɵtemplate","VerificarCodigoComponent_div_39_Template","VerificarCodigoComponent_div_40_Template","VerificarCodigoComponent_Template_form_ngSubmit_41_listener","_r1","VerificarCodigoComponent_input_47_Template","VerificarCodigoComponent_div_51_Template","VerificarCodigoComponent_div_52_Template","VerificarCodigoComponent__svg_svg_53_Template","VerificarCodigoComponent_Template_button_click_57_listener","VerificarCodigoComponent_Template_button_click_60_listener","ɵɵpureFunction0","_c1","ɵɵtextInterpolate1","i4","NgForOf","NgIf","i5","ɵNgNoValidate","DefaultValueAccessor","NgControlStatus","NgControlStatusGroup","RequiredValidator","MaxLengthValidator","PatternValidator","NgModel","NgForm","encapsulation"],"sources":["/home/danilo/Área de trabalho/formsync-nx/apps/front/src/app/components/verificar-codigo/verificar-codigo.component.ts"],"sourcesContent":["import { Component, ElementRef, QueryList, ViewChildren } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { AuthService } from '../../services/auth.service';\nimport { ErrorHandlerService } from '../../services/error-handler.service';\nimport { FooterComponent } from '../footer/footer.component';\n\n@Component({\n  selector: 'app-verificar-codigo',\n  standalone: true,\n  imports: [\n    CommonModule,\n    FormsModule,\n    FooterComponent\n  ],\n  template: `\n    <!-- Hero Section com Formulário de Verificação -->\n    <section class=\"min-h-screen bg-white flex items-center justify-center px-6\">\n      <div class=\"w-full max-w-6xl\">\n        <!-- Layout Principal -->\n        <div class=\"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center\">\n          \n          <!-- Conteúdo da Esquerda - Alinhado com a logo -->\n          <div class=\"text-center lg:text-left lg:pl-4\">\n            <!-- Header Principal -->\n            <h1 class=\"text-5xl lg:text-6xl font-black text-gray-900 mb-6 leading-tight\">\n              Verificar código\n            </h1>\n            \n            <!-- Subheading -->\n            <p class=\"text-xl text-gray-600 mb-8 leading-relaxed\">\n              Digite o código de 6 dígitos que enviamos para seu email\n            </p>\n            \n            <!-- Informações de segurança -->\n            <div class=\"bg-gray-50 rounded-lg p-6 mb-8 border border-gray-100\">\n              <div class=\"flex items-center gap-3 justify-center lg:justify-start mb-4\">\n                <div class=\"w-10 h-10 bg-indigo-600 rounded-lg flex items-center justify-center\">\n                  <svg class=\"w-6 h-6 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z\"></path>\n                  </svg>\n                </div>\n                <div>\n                  <h3 class=\"font-semibold text-gray-900\">Verificação Segura</h3>\n                  <p class=\"text-sm text-gray-600\">Código enviado para: <strong>{{ email }}</strong></p>\n                </div>\n              </div>\n            </div>\n            \n            <!-- Benefícios -->\n            <div class=\"space-y-4\">\n              <div class=\"flex items-center gap-3 justify-center lg:justify-start\">\n                <div class=\"w-2 h-2 bg-green-500 rounded-full\"></div>\n                <span class=\"text-gray-600\">Código válido por 10 minutos</span>\n              </div>\n              <div class=\"flex items-center gap-3 justify-center lg:justify-start\">\n                <div class=\"w-2 h-2 bg-green-500 rounded-full\"></div>\n                <span class=\"text-gray-600\">Verificação criptografada</span>\n              </div>\n              <div class=\"flex items-center gap-3 justify-center lg:justify-start\">\n                <div class=\"w-2 h-2 bg-green-500 rounded-full\"></div>\n                <span class=\"text-gray-600\">Acesso seguro garantido</span>\n              </div>\n            </div>\n          </div>\n\n          <!-- Card de Verificação - Alinhado com o botão \"Começar por R$ 14,90/mês\" -->\n          <div class=\"bg-gray-50 rounded-lg p-8 border border-gray-100 lg:pr-4\">\n            <div class=\"text-center mb-8\">\n              <h2 class=\"text-2xl font-bold text-gray-900 mb-2\">Código de Verificação</h2>\n              <p class=\"text-gray-600\">Digite os 6 dígitos que enviamos para você</p>\n            </div>\n\n            <!-- Mensagem de erro -->\n            <div *ngIf=\"mensagemErro\" class=\"bg-red-50 border border-red-200 rounded-lg p-4 mb-6\">\n              <div class=\"flex items-center gap-3\">\n                <svg class=\"w-5 h-5 text-red-600 flex-shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.34 16.5c-.77.833.192 2.5 1.732 2.5z\"></path>\n                </svg>\n                <span class=\"text-red-800 text-sm font-medium\">{{ mensagemErro }}</span>\n              </div>\n            </div>\n\n            <!-- Mensagem de sucesso -->\n            <div *ngIf=\"mensagemSucesso\" class=\"bg-green-50 border border-green-200 rounded-lg p-4 mb-6\">\n              <div class=\"flex items-center gap-3\">\n                <svg class=\"w-5 h-5 text-green-600 flex-shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\"></path>\n                </svg>\n                <span class=\"text-green-800 text-sm font-medium\">{{ mensagemSucesso }}</span>\n              </div>\n            </div>\n\n            <!-- Formulário de verificação -->\n            <form (ngSubmit)=\"verificarCodigo()\" #codigoForm=\"ngForm\" class=\"space-y-6\">\n              <!-- Campos de código -->\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-3 text-center\">Código de 6 dígitos</label>\n                <div class=\"flex gap-3 justify-center\">\n                  <input\n                    #codigoInput\n                    type=\"text\"\n                    maxlength=\"1\"\n                    [(ngModel)]=\"codigoArray[i]\"\n                    name=\"codigo{{i}}\"\n                    (input)=\"onInput($event, i)\"\n                    (keydown)=\"onKeyDown($event, i)\"\n                    (paste)=\"onPaste($event)\"\n                    [class]=\"'w-12 h-12 text-center text-lg font-semibold border rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors duration-200 ' + (mensagemErro ? 'border-red-500' : 'border-gray-300')\"\n                    [id]=\"'codigo' + i\"\n                    autocomplete=\"off\"\n                    inputmode=\"numeric\"\n                    pattern=\"[0-9]\"\n                    required\n                    data-cy=\"verification-code\"\n                    *ngFor=\"let i of [0,1,2,3,4,5]\"\n                  />\n                </div>\n                <p class=\"text-sm text-gray-600 text-center mt-3\">\n                  Digite os 6 dígitos do código enviado para seu e-mail\n                </p>\n              </div>\n\n              <!-- CTA Principal -->\n              <button\n                type=\"submit\"\n                [disabled]=\"codigo.length < 6 || carregando || mensagemSucesso\"\n                data-cy=\"verify-button\"\n                class=\"w-full py-4 px-6 bg-indigo-600 text-white font-semibold text-lg rounded-lg hover:bg-indigo-700 transition-colors duration-200 disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center justify-center gap-3\"\n              >\n                <div *ngIf=\"carregando\" class=\"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin\"></div>\n                <div *ngIf=\"mensagemSucesso\" class=\"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin\"></div>\n                <svg *ngIf=\"!carregando && !mensagemSucesso\" class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\"></path>\n                </svg>\n                {{ carregando ? 'Verificando código...' : mensagemSucesso ? 'Redirecionando...' : 'Verificar código' }}\n              </button>\n\n              <!-- Links secundários -->\n              <div class=\"space-y-3\">\n                <div class=\"text-center\">\n                  <button \n                    type=\"button\"\n                    (click)=\"solicitarNovoCodigo()\" \n                    [disabled]=\"carregandoNovoCodigo\"\n                    class=\"text-indigo-600 hover:text-indigo-700 font-medium transition-colors duration-200 disabled:text-gray-400\"\n                  >\n                    {{ carregandoNovoCodigo ? 'Enviando...' : 'Solicitar novo código' }}\n                  </button>\n                </div>\n                <div class=\"text-center\">\n                  <button \n                    type=\"button\"\n                    (click)=\"voltarAoLogin()\" \n                    class=\"text-gray-600 font-medium hover:text-gray-900 transition-colors duration-200\"\n                  >\n                    ← Voltar ao login\n                  </button>\n                </div>\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n    </section>\n    \n    <!-- Footer -->\n    <app-footer></app-footer>\n  `,\n  styles: []\n})\nexport class VerificarCodigoComponent {\n  email = '';\n  codigoArray: string[] = ['', '', '', '', '', ''];\n  mensagemErro = '';\n  carregando = false;\n  carregandoNovoCodigo = false;\n  mensagemSucesso = '';\n\n  @ViewChildren('codigoInput') inputs!: QueryList<ElementRef>;\n\n  constructor(\n    private route: ActivatedRoute,\n    private authService: AuthService,\n    private router: Router,\n    private errorHandler: ErrorHandlerService\n  ) {\n    this.route.queryParams.subscribe(params => {\n      this.email = params['email'] || '';\n    });\n  }\n\n  get codigo(): string {\n    return this.codigoArray.join('');\n  }\n\n  verificarCodigo() {\n    if (this.codigo.length < 6) {\n      this.mensagemErro = 'Código incompleto.';\n      return;\n    }\n\n    if (this.carregando) {\n      return; // Prevent duplicate submissions\n    }\n\n    this.carregando = true;\n\n    console.log('🔐 Verificando código:', this.codigo, 'para email:', this.email);\n\n    this.authService.verificarCodigo(this.email, this.codigo).subscribe({\n      next: (res: any) => {\n        console.log('✅ Código verificado com sucesso:', res);\n        this.authService.salvarToken(res.token);\n        this.authService.salvarNomeUsuario(res.nome);\n        localStorage.setItem('plano', res.plano);\n\n        // Mostrar mensagem de sucesso e redirecionar após delay\n        this.mostrarSucessoERedirecionar();\n      },\n      error: err => {\n        console.error('❌ Erro na verificação:', err);\n        this.carregando = false;\n        this.mensagemErro = this.errorHandler.getErrorMessage(err);\n      },\n    });\n  }\n\n  private mostrarSucessoERedirecionar() {\n    console.log('✅ [LOGIN] Mostrando sucesso e preparando redirecionamento...');\n\n    // Mostrar mensagem de sucesso e desabilitar campos\n    this.mensagemErro = '';\n    this.mensagemSucesso = 'Login realizado com sucesso! Redirecionando...';\n    this.carregando = false; // Parar o loading do botão\n\n    // Redirecionar para o dashboard após 2 segundos\n    setTimeout(() => {\n      console.log('🔄 [LOGIN] Redirecionando para dashboard...');\n      this.router.navigate(['/dashboard']);\n    }, 2000);\n  }\n\n  onInput(event: Event, index: number) {\n    const input = event.target as HTMLInputElement;\n    const value = input.value;\n\n    if (value.length === 1 && /^\\d$/.test(value)) {\n      this.codigoArray[index] = value;\n      const next = this.inputs.get(index + 1);\n      next?.nativeElement.focus();\n    } else if (value.length > 1) {\n      // colou o código\n      const pasted = value.replace(/\\D/g, '').slice(0, 6).split('');\n      pasted.forEach((char, i) => {\n        this.codigoArray[i] = char;\n        const inputRef = this.inputs.get(i);\n        if (inputRef) inputRef.nativeElement.value = char;\n      });\n      const last = this.inputs.get(pasted.length - 1);\n      last?.nativeElement.focus();\n    } else {\n      this.codigoArray[index] = '';\n    }\n  }\n\n  onKeyDown(event: KeyboardEvent, index: number) {\n    if (event.key === 'Backspace' && !this.codigoArray[index] && index > 0) {\n      const prev = this.inputs.get(index - 1);\n      prev?.nativeElement.focus();\n    }\n  }\n\n  onPaste(event: ClipboardEvent) {\n    event.preventDefault();\n    const clipboardData = event.clipboardData?.getData('text');\n    if (!clipboardData) return;\n\n    const pasted = clipboardData.replace(/\\D/g, '').slice(0, 6).split('');\n    if (pasted.length > 0) {\n      pasted.forEach((char, i) => {\n        this.codigoArray[i] = char;\n        const inputRef = this.inputs.get(i);\n        if (inputRef) inputRef.nativeElement.value = char;\n      });\n      const last = this.inputs.get(Math.min(pasted.length - 1, 5));\n      last?.nativeElement.focus();\n    }\n  }\n\n  solicitarNovoCodigo() {\n    if (this.carregandoNovoCodigo) return;\n\n    this.carregandoNovoCodigo = true;\n    this.mensagemErro = '';\n\n    this.authService.enviarCodigo(this.email).subscribe({\n      next: () => {\n        this.carregandoNovoCodigo = false;\n        // Mostrar mensagem de sucesso usando snackbar\n        this.mostrarMensagemSucesso('Novo código enviado com sucesso!');\n        // Limpar campos de código\n        this.codigoArray = ['', '', '', '', '', ''];\n        this.inputs.forEach(input => {\n          if (input.nativeElement) {\n            input.nativeElement.value = '';\n          }\n        });\n      },\n      error: (error: any) => {\n        this.carregandoNovoCodigo = false;\n        this.mensagemErro = this.errorHandler.getErrorMessage(error);\n      }\n    });\n  }\n\n  voltarAoLogin() {\n    this.router.navigate(['/login']);\n  }\n\n  private mostrarMensagemSucesso(mensagem: string) {\n    // Usar snackbar do Angular Material\n    const snackBar = document.createElement('div');\n    snackBar.className = 'snackbar-success';\n    snackBar.textContent = mensagem;\n    snackBar.style.cssText = `\n      position: fixed;\n      bottom: 20px;\n      left: 50%;\n      transform: translateX(-50%);\n      background: #4caf50;\n      color: white;\n      padding: 12px 24px;\n      border-radius: 4px;\n      z-index: 1000;\n      font-weight: 500;\n    `;\n\n    document.body.appendChild(snackBar);\n\n    setTimeout(() => {\n      if (snackBar.parentNode) {\n        snackBar.remove();\n      }\n    }, 3000);\n  }\n} "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}