{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { FormBuilder, Validators, ReactiveFormsModule } from '@angular/forms';\nimport { MatCardModule } from '@angular/material/card';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatSelectModule } from '@angular/material/select';\nimport { MatCheckboxModule } from '@angular/material/checkbox';\nimport { NotificationService } from '../../services/notification.service';\nimport { MatDialogModule } from '@angular/material/dialog';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatProgressSpinnerModule } from '@angular/material/progress-spinner';\nimport { Router } from '@angular/router';\nimport { Subject, takeUntil } from 'rxjs';\nimport { AssinaturaService } from '../../services/assinatura.service';\nimport { AuthService } from '../../services/auth.service';\nimport { SidebarComponent } from '../sidebar/sidebar.component';\nimport { FooterComponent } from '../footer/footer.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"../../services/assinatura.service\";\nimport * as i3 from \"../../services/auth.service\";\nimport * as i4 from \"../../services/notification.service\";\nimport * as i5 from \"@angular/router\";\nimport * as i6 from \"@angular/common\";\nimport * as i7 from \"@angular/material/button\";\nimport * as i8 from \"@angular/material/checkbox\";\nimport * as i9 from \"@angular/material/icon\";\nconst _c0 = a0 => ({\n  \"notification-hiding\": a0\n});\nconst _c1 = (a0, a1, a2, a3) => ({\n  \"border-green-200 bg-green-50\": a0,\n  \"border-red-200 bg-red-50\": a1,\n  \"border-yellow-200 bg-yellow-50\": a2,\n  \"border-blue-200 bg-blue-50\": a3\n});\nconst _c2 = (a0, a1, a2, a3) => ({\n  \"text-green-600\": a0,\n  \"text-red-600\": a1,\n  \"text-yellow-600\": a2,\n  \"text-blue-600\": a3\n});\nconst _c3 = (a0, a1, a2, a3) => ({\n  \"text-green-800\": a0,\n  \"text-red-800\": a1,\n  \"text-yellow-800\": a2,\n  \"text-blue-800\": a3\n});\nconst _c4 = (a0, a1, a2, a3) => ({\n  \"text-green-700\": a0,\n  \"text-red-700\": a1,\n  \"text-yellow-700\": a2,\n  \"text-blue-700\": a3\n});\nconst _c5 = (a0, a1) => ({\n  \"bg-gradient-to-br from-green-500 to-emerald-600\": a0,\n  \"bg-gradient-to-br from-red-500 to-pink-600\": a1\n});\nconst _c6 = (a0, a1) => ({\n  \"text-green-800\": a0,\n  \"text-red-800\": a1\n});\nfunction CancelarAssinaturaComponent_ng_container_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 5);\n    i0.ɵɵelement(2, \"div\", 6);\n    i0.ɵɵelementStart(3, \"h3\", 7);\n    i0.ɵɵtext(4, \" Carregando Assinatura \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\", 8);\n    i0.ɵɵtext(6, \" Aguarde enquanto preparamos suas informa\\u00E7\\u00F5es de assinatura... \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerEnd();\n  }\n}\nfunction CancelarAssinaturaComponent_ng_template_5_div_0_p_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 61);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.notificacao.detalhes, \" \");\n  }\n}\nfunction CancelarAssinaturaComponent_ng_template_5_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 52)(1, \"div\", 53)(2, \"div\", 54)(3, \"div\", 15)(4, \"mat-icon\", 55);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"div\", 12)(7, \"h4\", 56);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"p\", 57);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(11, CancelarAssinaturaComponent_ng_template_5_div_0_p_11_Template, 2, 1, \"p\", 58);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"button\", 59);\n    i0.ɵɵlistener(\"click\", function CancelarAssinaturaComponent_ng_template_5_div_0_Template_button_click_12_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r2.fecharNotificacao());\n    });\n    i0.ɵɵelementStart(13, \"mat-icon\", 60);\n    i0.ɵɵtext(14, \"close\");\n    i0.ɵɵelementEnd()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(9, _c0, !ctx_r2.notificacao.mostrar));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction4(11, _c1, ctx_r2.notificacao.tipo === \"success\", ctx_r2.notificacao.tipo === \"error\", ctx_r2.notificacao.tipo === \"warning\", ctx_r2.notificacao.tipo === \"info\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction4(16, _c2, ctx_r2.notificacao.tipo === \"success\", ctx_r2.notificacao.tipo === \"error\", ctx_r2.notificacao.tipo === \"warning\", ctx_r2.notificacao.tipo === \"info\"));\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.notificacao.icone, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction4(21, _c3, ctx_r2.notificacao.tipo === \"success\", ctx_r2.notificacao.tipo === \"error\", ctx_r2.notificacao.tipo === \"warning\", ctx_r2.notificacao.tipo === \"info\"));\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.notificacao.titulo, \" \");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction4(26, _c4, ctx_r2.notificacao.tipo === \"success\", ctx_r2.notificacao.tipo === \"error\", ctx_r2.notificacao.tipo === \"warning\", ctx_r2.notificacao.tipo === \"info\"));\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.notificacao.mensagem, \" \");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.notificacao.detalhes);\n  }\n}\nfunction CancelarAssinaturaComponent_ng_template_5_div_13_span_32_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 76);\n    i0.ɵɵtext(1, \" Cancelada \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CancelarAssinaturaComponent_ng_template_5_div_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 10)(1, \"div\", 19)(2, \"div\", 20)(3, \"div\", 62)(4, \"mat-icon\", 63);\n    i0.ɵɵtext(5, \"receipt\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"div\")(7, \"h2\", 23);\n    i0.ɵɵtext(8, \"Detalhes da Assinatura\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"p\", 24);\n    i0.ɵɵtext(10, \"Informa\\u00E7\\u00F5es sobre seu plano atual\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(11, \"div\", 64)(12, \"div\", 65)(13, \"div\", 66)(14, \"div\", 67)(15, \"mat-icon\", 68);\n    i0.ɵɵtext(16, \"star\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(17, \"div\")(18, \"label\", 69);\n    i0.ɵɵtext(19, \"Plano\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"div\", 70);\n    i0.ɵɵtext(21);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(22, \"div\", 65)(23, \"div\", 66)(24, \"div\", 71)(25, \"mat-icon\", 68);\n    i0.ɵɵtext(26);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(27, \"div\")(28, \"label\", 69);\n    i0.ɵɵtext(29, \"Status\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(30, \"div\", 72);\n    i0.ɵɵtext(31);\n    i0.ɵɵtemplate(32, CancelarAssinaturaComponent_ng_template_5_div_13_span_32_Template, 2, 0, \"span\", 73);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(33, \"div\", 65)(34, \"div\", 66)(35, \"div\", 74)(36, \"mat-icon\", 68);\n    i0.ɵɵtext(37, \"event\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(38, \"div\")(39, \"label\", 69);\n    i0.ɵɵtext(40, \"Data de In\\u00EDcio\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(41, \"div\", 70);\n    i0.ɵɵtext(42);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(43, \"div\", 65)(44, \"div\", 66)(45, \"div\", 75)(46, \"mat-icon\", 68);\n    i0.ɵɵtext(47, \"schedule\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(48, \"div\")(49, \"label\", 69);\n    i0.ɵɵtext(50, \"Pr\\u00F3xima Cobran\\u00E7a\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(51, \"div\", 70);\n    i0.ɵɵtext(52);\n    i0.ɵɵelementEnd()()()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(21);\n    i0.ɵɵtextInterpolate(ctx_r2.getNomePlano(ctx_r2.assinaturaAtual.plano));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(8, _c5, ctx_r2.assinaturaAtual.status === \"ATIVA\", ctx_r2.assinaturaAtual.status === \"CANCELADA\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.assinaturaAtual.status === \"ATIVA\" ? \"check_circle\" : \"cancel\", \" \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(11, _c6, ctx_r2.assinaturaAtual.status === \"ATIVA\", ctx_r2.assinaturaAtual.status === \"CANCELADA\"));\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.assinaturaAtual.status, \" \");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.assinaturaAtual.status === \"CANCELADA\");\n    i0.ɵɵadvance(10);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r2.formatarData(ctx_r2.assinaturaAtual.dataInicio), \" \");\n    i0.ɵɵadvance(10);\n    i0.ɵɵtextInterpolate(ctx_r2.formatarData(ctx_r2.assinaturaAtual.dataProximaCobranca));\n  }\n}\nfunction CancelarAssinaturaComponent_ng_template_5_div_31_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 77);\n    i0.ɵɵtext(1, \"Motivo \\u00E9 obrigat\\u00F3rio\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CancelarAssinaturaComponent_ng_template_5_div_32_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 77);\n    i0.ɵɵtext(1, \"Motivo deve ter pelo menos 10 caracteres\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CancelarAssinaturaComponent_ng_template_5_div_80_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"div\", 78);\n  }\n}\nfunction CancelarAssinaturaComponent_ng_template_5_mat_icon_81_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-icon\", 48);\n    i0.ɵɵtext(1, \"cancel\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CancelarAssinaturaComponent_ng_template_5_mat_icon_82_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-icon\", 48);\n    i0.ɵɵtext(1, \"block\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CancelarAssinaturaComponent_ng_template_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵtemplate(0, CancelarAssinaturaComponent_ng_template_5_div_0_Template, 15, 31, \"div\", 9);\n    i0.ɵɵelementStart(1, \"div\", 10)(2, \"div\", 11)(3, \"div\", 12)(4, \"h1\", 13);\n    i0.ɵɵtext(5, \" Cancelar Assinatura \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"p\", 14);\n    i0.ɵɵtext(7, \" Gerencie sua assinatura e solicite cancelamento a qualquer momento \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"div\", 15)(9, \"div\", 16)(10, \"mat-icon\", 17);\n    i0.ɵɵtext(11, \"warning\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(12, \" A\\u00E7\\u00E3o Irrevers\\u00EDvel \");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵtemplate(13, CancelarAssinaturaComponent_ng_template_5_div_13_Template, 53, 14, \"div\", 18);\n    i0.ɵɵelementStart(14, \"div\", 10)(15, \"div\", 19)(16, \"div\", 20)(17, \"div\", 21)(18, \"mat-icon\", 22);\n    i0.ɵɵtext(19, \"cancel\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(20, \"div\")(21, \"h2\", 23);\n    i0.ɵɵtext(22, \"Solicitar Cancelamento\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"p\", 24);\n    i0.ɵɵtext(24, \"Preencha os dados para cancelar sua assinatura\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(25, \"form\", 25);\n    i0.ɵɵlistener(\"ngSubmit\", function CancelarAssinaturaComponent_ng_template_5_Template_form_ngSubmit_25_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.onSubmit());\n    });\n    i0.ɵɵelementStart(26, \"div\", 26)(27, \"label\", 27);\n    i0.ɵɵtext(28, \" Motivo do Cancelamento * \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(29, \"textarea\", 28);\n    i0.ɵɵtext(30, \"                  \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(31, CancelarAssinaturaComponent_ng_template_5_div_31_Template, 2, 0, \"div\", 29)(32, CancelarAssinaturaComponent_ng_template_5_div_32_Template, 2, 0, \"div\", 29);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(33, \"div\", 26)(34, \"label\", 27);\n    i0.ɵɵtext(35, \" Data de Cancelamento \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(36, \"input\", 30);\n    i0.ɵɵelementStart(37, \"div\", 31);\n    i0.ɵɵtext(38, \"Deixe em branco para cancelar imediatamente\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(39, \"div\", 26)(40, \"mat-checkbox\", 32)(41, \"span\", 33);\n    i0.ɵɵtext(42, \" Solicitar reembolso pelo per\\u00EDodo n\\u00E3o utilizado \");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(43, \"div\", 34)(44, \"div\", 35)(45, \"div\", 36)(46, \"mat-icon\", 37);\n    i0.ɵɵtext(47, \"gavel\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(48, \"h4\", 38);\n    i0.ɵɵtext(49, \"Pol\\u00EDtica de Reembolso\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(50, \"div\", 39)(51, \"p\", 40)(52, \"strong\");\n    i0.ɵɵtext(53, \"Conforme CDC Art. 49 (Direito de Arrependimento):\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(54, \"ul\", 41)(55, \"li\", 42);\n    i0.ɵɵelement(56, \"div\", 43);\n    i0.ɵɵelementStart(57, \"span\")(58, \"strong\");\n    i0.ɵɵtext(59, \"Primeiros 7 dias:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(60, \" Reembolso integral\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(61, \"li\", 42);\n    i0.ɵɵelement(62, \"div\", 44);\n    i0.ɵɵelementStart(63, \"span\")(64, \"strong\");\n    i0.ɵɵtext(65, \"Ap\\u00F3s 7 dias:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(66, \" Reembolso proporcional pelo per\\u00EDodo n\\u00E3o utilizado\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(67, \"li\", 42);\n    i0.ɵɵelement(68, \"div\", 45);\n    i0.ɵɵelementStart(69, \"span\")(70, \"strong\");\n    i0.ɵɵtext(71, \"Sem reembolso:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(72, \" Quando n\\u00E3o h\\u00E1 per\\u00EDodo n\\u00E3o utilizado\");\n    i0.ɵɵelementEnd()()()()();\n    i0.ɵɵelementStart(73, \"div\", 46)(74, \"button\", 47);\n    i0.ɵɵlistener(\"click\", function CancelarAssinaturaComponent_ng_template_5_Template_button_click_74_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.voltar());\n    });\n    i0.ɵɵelementStart(75, \"mat-icon\", 48);\n    i0.ɵɵtext(76, \"arrow_back\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(77, \"span\");\n    i0.ɵɵtext(78, \"Voltar\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(79, \"button\", 49);\n    i0.ɵɵtemplate(80, CancelarAssinaturaComponent_ng_template_5_div_80_Template, 1, 0, \"div\", 50)(81, CancelarAssinaturaComponent_ng_template_5_mat_icon_81_Template, 2, 0, \"mat-icon\", 51)(82, CancelarAssinaturaComponent_ng_template_5_mat_icon_82_Template, 2, 0, \"mat-icon\", 51);\n    i0.ɵɵelementStart(83, \"span\");\n    i0.ɵɵtext(84);\n    i0.ɵɵelementEnd()()()()()();\n  }\n  if (rf & 2) {\n    let tmp_5_0;\n    let tmp_6_0;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.notificacao);\n    i0.ɵɵadvance(13);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.assinaturaAtual);\n    i0.ɵɵadvance(12);\n    i0.ɵɵproperty(\"formGroup\", ctx_r2.cancelamentoForm);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngIf\", ((tmp_5_0 = ctx_r2.cancelamentoForm.get(\"motivo\")) == null ? null : tmp_5_0.hasError(\"required\")) && ((tmp_5_0 = ctx_r2.cancelamentoForm.get(\"motivo\")) == null ? null : tmp_5_0.touched));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ((tmp_6_0 = ctx_r2.cancelamentoForm.get(\"motivo\")) == null ? null : tmp_6_0.hasError(\"minlength\")) && ((tmp_6_0 = ctx_r2.cancelamentoForm.get(\"motivo\")) == null ? null : tmp_6_0.touched));\n    i0.ɵɵadvance(42);\n    i0.ɵɵproperty(\"disabled\", ctx_r2.carregando);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"disabled\", ctx_r2.cancelamentoForm.invalid || ctx_r2.carregando || (ctx_r2.assinaturaAtual == null ? null : ctx_r2.assinaturaAtual.status) === \"CANCELADA\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.carregando);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", !ctx_r2.carregando && (ctx_r2.assinaturaAtual == null ? null : ctx_r2.assinaturaAtual.status) !== \"CANCELADA\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", !ctx_r2.carregando && (ctx_r2.assinaturaAtual == null ? null : ctx_r2.assinaturaAtual.status) === \"CANCELADA\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r2.carregando ? \"Cancelando...\" : (ctx_r2.assinaturaAtual == null ? null : ctx_r2.assinaturaAtual.status) === \"CANCELADA\" ? \"J\\u00E1 Cancelada\" : \"Confirmar Cancelamento\");\n  }\n}\nexport class CancelarAssinaturaComponent {\n  fb;\n  assinaturaService;\n  authService;\n  notificationService;\n  router;\n  cancelamentoForm;\n  assinaturaAtual = null;\n  carregando = false;\n  carregandoPagina = true;\n  notificacao = null;\n  destroy$ = new Subject();\n  constructor(fb, assinaturaService, authService, notificationService, router) {\n    this.fb = fb;\n    this.assinaturaService = assinaturaService;\n    this.authService = authService;\n    this.notificationService = notificationService;\n    this.router = router;\n    this.cancelamentoForm = this.fb.group({\n      motivo: ['', [Validators.required, Validators.minLength(10)]],\n      dataCancelamento: [''],\n      solicitarReembolso: [false]\n    });\n  }\n  ngOnInit() {\n    this.carregarAssinaturaAtual();\n  }\n  ngOnDestroy() {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n  mostrarNotificacao(tipo, titulo, mensagem, detalhes) {\n    const icones = {\n      success: 'check_circle',\n      error: 'error',\n      warning: 'warning',\n      info: 'info'\n    };\n    this.notificacao = {\n      tipo,\n      titulo,\n      mensagem,\n      detalhes,\n      mostrar: true,\n      icone: icones[tipo]\n    };\n  }\n  fecharNotificacao() {\n    if (this.notificacao) {\n      // Iniciar animação de saída\n      this.notificacao.mostrar = false;\n      // Limpar a notificação após a animação\n      setTimeout(() => {\n        this.notificacao = null;\n      }, 300);\n    }\n  }\n  carregarAssinaturaAtual() {\n    this.carregandoPagina = true;\n    this.assinaturaService.consultarAssinaturaUsuarioLogado().pipe(takeUntil(this.destroy$)).subscribe({\n      next: assinatura => {\n        this.assinaturaAtual = assinatura;\n        this.carregandoPagina = false;\n        // ✅ VERIFICAR SE ASSINATURA JÁ ESTÁ CANCELADA\n        if (assinatura.status === 'CANCELADA') {\n          this.mostrarNotificacao('warning', 'Assinatura Cancelada', 'Esta assinatura já foi cancelada anteriormente.', 'Você será redirecionado para o dashboard em alguns segundos.');\n          // Redirecionar para dashboard após 5 segundos\n          setTimeout(() => {\n            this.router.navigate(['/dashboard']);\n          }, 5000);\n        }\n      },\n      error: error => {\n        console.error('Erro ao carregar assinatura:', error);\n        this.carregandoPagina = false;\n        // ✅ MELHOR TRATAMENTO DE ERRO\n        if (error.status === 404) {\n          this.mostrarNotificacao('info', 'Assinatura Não Encontrada', 'Nenhuma assinatura ativa foi encontrada para sua conta.', 'Você será redirecionado para o dashboard.');\n          setTimeout(() => {\n            this.router.navigate(['/dashboard']);\n          }, 5000);\n        } else {\n          this.mostrarNotificacao('error', 'Erro ao Carregar', 'Não foi possível carregar os dados da assinatura.', 'Verifique sua conexão e tente novamente.');\n        }\n      }\n    });\n  }\n  onSubmit() {\n    if (this.cancelamentoForm.invalid || !this.assinaturaAtual) {\n      return;\n    }\n    // ✅ VERIFICAR SE ASSINATURA JÁ ESTÁ CANCELADA ANTES DE ENVIAR\n    if (this.assinaturaAtual.status === 'CANCELADA') {\n      this.mostrarNotificacao('warning', 'Assinatura Já Cancelada', 'Esta assinatura já foi cancelada anteriormente.', 'Não é possível cancelar novamente.');\n      return;\n    }\n    // ✅ PREVENIR MÚLTIPLOS CLIQUES\n    if (this.carregando) {\n      return;\n    }\n    this.carregando = true;\n    const dto = {\n      motivo: this.cancelamentoForm.value.motivo,\n      dataCancelamento: this.cancelamentoForm.value.dataCancelamento || undefined,\n      solicitarReembolso: this.cancelamentoForm.value.solicitarReembolso\n    };\n    this.assinaturaService.cancelarAssinatura(this.assinaturaAtual.id, dto).pipe(takeUntil(this.destroy$)).subscribe({\n      next: response => {\n        this.carregando = false;\n        // ✅ ATUALIZAR STATUS LOCAL PARA EVITAR NOVOS ENVIOS\n        if (this.assinaturaAtual) {\n          this.assinaturaAtual.status = 'CANCELADA';\n        }\n        // Criar mensagem detalhada sobre o reembolso\n        let detalhesReembolso = '';\n        if (response.dentroDoArrependimento) {\n          detalhesReembolso = '✅ Reembolso integral processado conforme CDC Art. 49 (Direito de Arrependimento)';\n        } else if (response.valorReembolso && response.valorReembolso > 0) {\n          detalhesReembolso = `💰 Reembolso proporcional de R$ ${response.valorReembolso.toFixed(2)} será processado`;\n        } else {\n          detalhesReembolso = 'ℹ️ Não há reembolso aplicável para este cancelamento';\n        }\n        this.mostrarNotificacao('success', 'Assinatura Cancelada com Sucesso!', response.mensagem, detalhesReembolso + ' • Você será redirecionado em alguns segundos.');\n        // Redirecionar para dashboard após cancelamento (sem fechar automaticamente a notificação)\n        setTimeout(() => {\n          this.router.navigate(['/dashboard']);\n        }, 8000);\n      },\n      error: error => {\n        console.error('Erro ao cancelar assinatura:', error);\n        this.carregando = false;\n        const mensagem = this.getMensagemErro(error);\n        this.mostrarNotificacao('error', 'Erro ao Cancelar Assinatura', mensagem, 'Verifique os dados e tente novamente.');\n      }\n    });\n  }\n  voltar() {\n    this.router.navigate(['/dashboard']);\n  }\n  getNomePlano(plano) {\n    const planos = {\n      'GRATIS': 'Gratuito',\n      'PROFISSIONAL': 'Profissional',\n      'EMPRESARIAL': 'Empresarial',\n      'VITALICIO': 'Vitalício'\n    };\n    return planos[plano] || plano;\n  }\n  formatarData(data) {\n    return new Date(data).toLocaleDateString('pt-BR', {\n      day: '2-digit',\n      month: '2-digit',\n      year: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  }\n  getMensagemErro(error) {\n    // ✅ TRATAMENTO ESPECÍFICO PARA ASSINATURA JÁ CANCELADA\n    if (error.error?.message && error.error.message.includes('CANCELADA')) {\n      return 'Esta assinatura já foi cancelada anteriormente. Não é possível cancelar novamente.';\n    }\n    if (error.error?.message) {\n      return error.error.message;\n    }\n    if (error.status === 403) {\n      return 'Você não tem permissão para cancelar esta assinatura';\n    }\n    if (error.status === 404) {\n      return 'Assinatura não encontrada';\n    }\n    if (error.status === 400) {\n      // ✅ VERIFICAR SE É ERRO DE STATUS ESPECÍFICO\n      if (error.error?.message?.includes('Status atual')) {\n        return 'Esta assinatura não pode ser cancelada devido ao seu status atual.';\n      }\n      return 'Dados inválidos para cancelamento';\n    }\n    return 'Erro ao cancelar assinatura. Tente novamente.';\n  }\n  static ɵfac = function CancelarAssinaturaComponent_Factory(__ngFactoryType__) {\n    return new (__ngFactoryType__ || CancelarAssinaturaComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.AssinaturaService), i0.ɵɵdirectiveInject(i3.AuthService), i0.ɵɵdirectiveInject(i4.NotificationService), i0.ɵɵdirectiveInject(i5.Router));\n  };\n  static ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: CancelarAssinaturaComponent,\n    selectors: [[\"app-cancelar-assinatura\"]],\n    decls: 8,\n    vars: 2,\n    consts: [[\"cancelContent\", \"\"], [1, \"min-h-screen\", \"bg-gray-50\"], [1, \"flex\", \"h-full\"], [1, \"flex-1\", \"p-6\", \"overflow-y-auto\"], [4, \"ngIf\", \"ngIfElse\"], [1, \"flex\", \"flex-col\", \"items-center\", \"justify-center\", \"py-20\"], [1, \"animate-spin\", \"rounded-full\", \"h-12\", \"w-12\", \"border-b-2\", \"border-indigo-600\"], [1, \"mt-6\", \"text-xl\", \"font-semibold\", \"text-gray-900\"], [1, \"text-gray-500\", \"mt-2\"], [\"class\", \"fixed top-4 right-4 z-50 max-w-md w-full\", 3, \"ngClass\", 4, \"ngIf\"], [1, \"mb-8\"], [1, \"flex\", \"justify-between\", \"items-start\"], [1, \"flex-1\"], [1, \"text-2xl\", \"font-bold\", \"text-gray-900\", \"mb-2\"], [1, \"text-gray-600\"], [1, \"flex-shrink-0\"], [1, \"inline-flex\", \"items-center\", \"px-3\", \"py-2\", \"bg-red-100\", \"text-red-800\", \"rounded-lg\", \"text-sm\", \"font-medium\"], [1, \"text-red-600\", \"mr-2\", \"text-base\"], [\"class\", \"mb-8\", 4, \"ngIf\"], [1, \"bg-white\", \"rounded-xl\", \"border\", \"border-gray-200\", \"p-6\"], [1, \"flex\", \"items-center\", \"gap-3\", \"mb-6\"], [1, \"w-10\", \"h-10\", \"bg-red-100\", \"rounded-lg\", \"flex\", \"items-center\", \"justify-center\"], [1, \"text-red-600\"], [1, \"text-xl\", \"font-semibold\", \"text-gray-900\"], [1, \"text-gray-500\", \"text-sm\"], [1, \"space-y-6\", 3, \"ngSubmit\", \"formGroup\"], [1, \"w-full\"], [1, \"block\", \"text-sm\", \"font-medium\", \"text-gray-700\", \"mb-2\"], [\"formControlName\", \"motivo\", \"placeholder\", \"Por favor, informe o motivo do cancelamento...\", \"rows\", \"4\", 1, \"w-full\", \"px-3\", \"py-2\", \"border\", \"border-gray-200\", \"rounded-lg\", \"focus:ring-2\", \"focus:ring-purple-500\", \"focus:border-purple-500\", \"transition-all\", \"duration-200\"], [\"class\", \"text-red-500 text-xs mt-1\", 4, \"ngIf\"], [\"type\", \"datetime-local\", \"formControlName\", \"dataCancelamento\", 1, \"w-full\", \"px-3\", \"py-2\", \"border\", \"border-gray-200\", \"rounded-lg\", \"focus:ring-2\", \"focus:ring-purple-500\", \"focus:border-purple-500\", \"transition-all\", \"duration-200\"], [1, \"text-xs\", \"text-gray-500\", \"mt-1\"], [\"formControlName\", \"solicitarReembolso\", 1, \"w-full\"], [1, \"text-sm\", \"font-medium\", \"text-gray-700\"], [1, \"mt-6\", \"p-4\", \"bg-gradient-to-br\", \"from-blue-50\", \"to-indigo-50\", \"border\", \"border-blue-200\", \"rounded-lg\"], [1, \"flex\", \"items-center\", \"gap-3\", \"mb-4\"], [1, \"w-8\", \"h-8\", \"bg-blue-100\", \"rounded-lg\", \"flex\", \"items-center\", \"justify-center\"], [1, \"text-blue-600\", \"text-lg\"], [1, \"text-lg\", \"font-semibold\", \"text-blue-900\"], [1, \"space-y-3\"], [1, \"text-sm\", \"text-blue-800\"], [1, \"space-y-2\"], [1, \"flex\", \"items-center\", \"gap-3\", \"text-sm\", \"text-blue-700\"], [1, \"w-2\", \"h-2\", \"bg-green-500\", \"rounded-full\"], [1, \"w-2\", \"h-2\", \"bg-blue-500\", \"rounded-full\"], [1, \"w-2\", \"h-2\", \"bg-yellow-500\", \"rounded-full\"], [1, \"flex\", \"gap-4\", \"pt-6\"], [\"type\", \"button\", 1, \"flex-1\", \"px-6\", \"py-3\", \"bg-gray-100\", \"hover:bg-gray-200\", \"text-gray-700\", \"font-medium\", \"rounded-lg\", \"transition-all\", \"duration-200\", \"border\", \"border-gray-300\", \"hover:border-gray-400\", \"disabled:opacity-50\", \"disabled:cursor-not-allowed\", \"flex\", \"items-center\", \"justify-center\", \"space-x-2\", 3, \"click\", \"disabled\"], [1, \"text-base\"], [\"type\", \"submit\", 1, \"flex-1\", \"px-6\", \"py-3\", \"bg-purple-600\", \"hover:bg-purple-700\", \"text-white\", \"font-medium\", \"rounded-lg\", \"transition-all\", \"duration-200\", \"border\", \"border-purple-600\", \"hover:border-purple-700\", \"disabled:bg-gray-400\", \"disabled:cursor-not-allowed\", \"flex\", \"items-center\", \"justify-center\", \"space-x-2\", 3, \"disabled\"], [\"class\", \"animate-spin rounded-full h-4 w-4 border-b-2 border-white\", 4, \"ngIf\"], [\"class\", \"text-base\", 4, \"ngIf\"], [1, \"fixed\", \"top-4\", \"right-4\", \"z-50\", \"max-w-md\", \"w-full\", 3, \"ngClass\"], [1, \"p-4\", \"rounded-lg\", \"border\", \"shadow-lg\", 3, \"ngClass\"], [1, \"flex\", \"items-start\", \"space-x-3\"], [1, \"text-lg\", 3, \"ngClass\"], [1, \"text-sm\", \"font-medium\", 3, \"ngClass\"], [1, \"text-sm\", \"mt-1\", 3, \"ngClass\"], [\"class\", \"text-xs mt-2 text-gray-600\", 4, \"ngIf\"], [\"mat-icon-button\", \"\", \"aria-label\", \"Fechar notifica\\u00E7\\u00E3o\", 1, \"flex-shrink-0\", \"text-gray-400\", \"hover:text-gray-600\", \"transition-colors\", \"duration-200\", 3, \"click\"], [1, \"text-lg\"], [1, \"text-xs\", \"mt-2\", \"text-gray-600\"], [1, \"w-10\", \"h-10\", \"bg-blue-100\", \"rounded-lg\", \"flex\", \"items-center\", \"justify-center\"], [1, \"text-blue-600\"], [1, \"grid\", \"grid-cols-1\", \"md:grid-cols-2\", \"gap-6\"], [1, \"p-4\", \"bg-gray-50\", \"rounded-lg\", \"border\", \"border-gray-200\", \"hover:border-gray-300\", \"transition-colors\", \"duration-200\"], [1, \"flex\", \"items-center\", \"space-x-4\"], [1, \"w-12\", \"h-12\", \"bg-gradient-to-br\", \"from-blue-500\", \"to-indigo-600\", \"rounded-xl\", \"flex\", \"items-center\", \"justify-center\"], [1, \"text-white\"], [1, \"block\", \"text-sm\", \"font-medium\", \"text-gray-600\", \"mb-1\"], [1, \"text-lg\", \"font-semibold\", \"text-gray-800\"], [1, \"w-12\", \"h-12\", \"rounded-xl\", \"flex\", \"items-center\", \"justify-center\", 3, \"ngClass\"], [1, \"text-lg\", \"font-semibold\", 3, \"ngClass\"], [\"class\", \"ml-2 inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800\", 4, \"ngIf\"], [1, \"w-12\", \"h-12\", \"bg-gradient-to-br\", \"from-purple-500\", \"to-pink-600\", \"rounded-xl\", \"flex\", \"items-center\", \"justify-center\"], [1, \"w-12\", \"h-12\", \"bg-gradient-to-br\", \"from-orange-500\", \"to-red-600\", \"rounded-xl\", \"flex\", \"items-center\", \"justify-center\"], [1, \"ml-2\", \"inline-flex\", \"items-center\", \"px-2\", \"py-1\", \"rounded-full\", \"text-xs\", \"font-medium\", \"bg-red-100\", \"text-red-800\"], [1, \"text-red-500\", \"text-xs\", \"mt-1\"], [1, \"animate-spin\", \"rounded-full\", \"h-4\", \"w-4\", \"border-b-2\", \"border-white\"]],\n    template: function CancelarAssinaturaComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 1)(1, \"div\", 2);\n        i0.ɵɵelement(2, \"app-sidebar\");\n        i0.ɵɵelementStart(3, \"main\", 3);\n        i0.ɵɵtemplate(4, CancelarAssinaturaComponent_ng_container_4_Template, 7, 0, \"ng-container\", 4)(5, CancelarAssinaturaComponent_ng_template_5_Template, 85, 11, \"ng-template\", null, 0, i0.ɵɵtemplateRefExtractor);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelement(7, \"app-footer\");\n      }\n      if (rf & 2) {\n        const cancelContent_r4 = i0.ɵɵreference(6);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngIf\", ctx.carregandoPagina)(\"ngIfElse\", cancelContent_r4);\n      }\n    },\n    dependencies: [CommonModule, i6.NgClass, i6.NgIf, ReactiveFormsModule, i1.ɵNgNoValidate, i1.DefaultValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.FormControlName, MatCardModule, MatButtonModule, i7.MatIconButton, MatFormFieldModule, MatInputModule, MatSelectModule, MatCheckboxModule, i8.MatCheckbox, MatDialogModule, MatIconModule, i9.MatIcon, MatProgressSpinnerModule, SidebarComponent, FooterComponent],\n    styles: [\"\\n\\n.notification-hiding[_ngcontent-%COMP%] {\\n  animation: _ngcontent-%COMP%_slideOutRight 0.3s ease-in forwards;\\n}\\n\\n@keyframes _ngcontent-%COMP%_slideOutRight {\\n  from {\\n    opacity: 1;\\n    transform: translateX(0);\\n  }\\n  to {\\n    opacity: 0;\\n    transform: translateX(100%);\\n  }\\n}\\n\\n\\n\\n.mat-form-field.mat-focused[_ngcontent-%COMP%]   .mat-form-field-outline[_ngcontent-%COMP%] {\\n  border-color: #dc2626 !important;\\n}\\n\\n.mat-form-field.mat-focused[_ngcontent-%COMP%]   .mat-form-field-label[_ngcontent-%COMP%] {\\n  color: #dc2626 !important;\\n}\\n\\n\\n\\n.hover\\\\:border-gray-300[_ngcontent-%COMP%]:hover {\\n  border-color: #d1d5db;\\n  transform: translateY(-1px);\\n  transition: all 0.2s ease;\\n}\\n\\n\\n\\n.transition-all[_ngcontent-%COMP%] {\\n  transition: all 0.2s ease;\\n}\\n\\n\\n\\n@media (max-width: 768px) {\\n  .grid-cols-1.md\\\\:grid-cols-2[_ngcontent-%COMP%] {\\n    grid-template-columns: 1fr;\\n  }\\n  \\n  .flex.gap-4[_ngcontent-%COMP%] {\\n    flex-direction: column;\\n  }\\n  \\n  .flex-1[_ngcontent-%COMP%] {\\n    width: 100%;\\n  }\\n}\\n\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL2FwcHMvZnJvbnQvc3JjL2FwcC9jb21wb25lbnRzL2NhbmNlbGFyLWFzc2luYXR1cmEvY2FuY2VsYXItYXNzaW5hdHVyYS5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLGdDQUFnQztBQUNoQztFQUNFLDhDQUE4QztBQUNoRDs7QUFFQTtFQUNFO0lBQ0UsVUFBVTtJQUNWLHdCQUF3QjtFQUMxQjtFQUNBO0lBQ0UsVUFBVTtJQUNWLDJCQUEyQjtFQUM3QjtBQUNGOztBQUVBLGlEQUFpRDtBQUNqRDtFQUNFLGdDQUFnQztBQUNsQzs7QUFFQTtFQUNFLHlCQUF5QjtBQUMzQjs7QUFFQSw2QkFBNkI7QUFDN0I7RUFDRSxxQkFBcUI7RUFDckIsMkJBQTJCO0VBQzNCLHlCQUF5QjtBQUMzQjs7QUFFQSxzQkFBc0I7QUFDdEI7RUFDRSx5QkFBeUI7QUFDM0I7O0FBRUEsK0JBQStCO0FBQy9CO0VBQ0U7SUFDRSwwQkFBMEI7RUFDNUI7O0VBRUE7SUFDRSxzQkFBc0I7RUFDeEI7O0VBRUE7SUFDRSxXQUFXO0VBQ2I7QUFDRiIsInNvdXJjZXNDb250ZW50IjpbIi8qIEFuaW1hw4PCp8ODwrVlcyBwYXJhIG5vdGlmaWNhw4PCp8ODwrVlcyAqL1xuLm5vdGlmaWNhdGlvbi1oaWRpbmcge1xuICBhbmltYXRpb246IHNsaWRlT3V0UmlnaHQgMC4zcyBlYXNlLWluIGZvcndhcmRzO1xufVxuXG5Aa2V5ZnJhbWVzIHNsaWRlT3V0UmlnaHQge1xuICBmcm9tIHtcbiAgICBvcGFjaXR5OiAxO1xuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgwKTtcbiAgfVxuICB0byB7XG4gICAgb3BhY2l0eTogMDtcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMTAwJSk7XG4gIH1cbn1cblxuLyogRm9jbyBwZXJzb25hbGl6YWRvIHBhcmEgY2FtcG9zIGRvIGZvcm11bMODwqFyaW8gKi9cbi5tYXQtZm9ybS1maWVsZC5tYXQtZm9jdXNlZCAubWF0LWZvcm0tZmllbGQtb3V0bGluZSB7XG4gIGJvcmRlci1jb2xvcjogI2RjMjYyNiAhaW1wb3J0YW50O1xufVxuXG4ubWF0LWZvcm0tZmllbGQubWF0LWZvY3VzZWQgLm1hdC1mb3JtLWZpZWxkLWxhYmVsIHtcbiAgY29sb3I6ICNkYzI2MjYgIWltcG9ydGFudDtcbn1cblxuLyogSG92ZXIgZWZmZWN0cyBwYXJhIGNhcmRzICovXG4uaG92ZXJcXDpib3JkZXItZ3JheS0zMDA6aG92ZXIge1xuICBib3JkZXItY29sb3I6ICNkMWQ1ZGI7XG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtMXB4KTtcbiAgdHJhbnNpdGlvbjogYWxsIDAuMnMgZWFzZTtcbn1cblxuLyogVHJhbnNpw4PCp8ODwrVlcyBzdWF2ZXMgKi9cbi50cmFuc2l0aW9uLWFsbCB7XG4gIHRyYW5zaXRpb246IGFsbCAwLjJzIGVhc2U7XG59XG5cbi8qIFJlc3BvbnNpdmlkYWRlIHBhcmEgbW9iaWxlICovXG5AbWVkaWEgKG1heC13aWR0aDogNzY4cHgpIHtcbiAgLmdyaWQtY29scy0xLm1kXFw6Z3JpZC1jb2xzLTIge1xuICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogMWZyO1xuICB9XG4gIFxuICAuZmxleC5nYXAtNCB7XG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgfVxuICBcbiAgLmZsZXgtMSB7XG4gICAgd2lkdGg6IDEwMCU7XG4gIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n  });\n}","map":{"version":3,"names":["CommonModule","FormBuilder","Validators","ReactiveFormsModule","MatCardModule","MatButtonModule","MatFormFieldModule","MatInputModule","MatSelectModule","MatCheckboxModule","NotificationService","MatDialogModule","MatIconModule","MatProgressSpinnerModule","Router","Subject","takeUntil","AssinaturaService","AuthService","SidebarComponent","FooterComponent","i0","ɵɵelementContainerStart","ɵɵelementStart","ɵɵelement","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate1","ctx_r2","notificacao","detalhes","ɵɵtemplate","CancelarAssinaturaComponent_ng_template_5_div_0_p_11_Template","ɵɵlistener","CancelarAssinaturaComponent_ng_template_5_div_0_Template_button_click_12_listener","ɵɵrestoreView","_r2","ɵɵnextContext","ɵɵresetView","fecharNotificacao","ɵɵproperty","ɵɵpureFunction1","_c0","mostrar","ɵɵpureFunction4","_c1","tipo","_c2","icone","_c3","titulo","_c4","mensagem","CancelarAssinaturaComponent_ng_template_5_div_13_span_32_Template","ɵɵtextInterpolate","getNomePlano","assinaturaAtual","plano","ɵɵpureFunction2","_c5","status","_c6","formatarData","dataInicio","dataProximaCobranca","CancelarAssinaturaComponent_ng_template_5_div_0_Template","CancelarAssinaturaComponent_ng_template_5_div_13_Template","CancelarAssinaturaComponent_ng_template_5_Template_form_ngSubmit_25_listener","_r1","onSubmit","CancelarAssinaturaComponent_ng_template_5_div_31_Template","CancelarAssinaturaComponent_ng_template_5_div_32_Template","CancelarAssinaturaComponent_ng_template_5_Template_button_click_74_listener","voltar","CancelarAssinaturaComponent_ng_template_5_div_80_Template","CancelarAssinaturaComponent_ng_template_5_mat_icon_81_Template","CancelarAssinaturaComponent_ng_template_5_mat_icon_82_Template","cancelamentoForm","tmp_5_0","get","hasError","touched","tmp_6_0","carregando","invalid","CancelarAssinaturaComponent","fb","assinaturaService","authService","notificationService","router","carregandoPagina","destroy$","constructor","group","motivo","required","minLength","dataCancelamento","solicitarReembolso","ngOnInit","carregarAssinaturaAtual","ngOnDestroy","next","complete","mostrarNotificacao","icones","success","error","warning","info","setTimeout","consultarAssinaturaUsuarioLogado","pipe","subscribe","assinatura","navigate","console","dto","value","undefined","cancelarAssinatura","id","response","detalhesReembolso","dentroDoArrependimento","valorReembolso","toFixed","getMensagemErro","planos","data","Date","toLocaleDateString","day","month","year","hour","minute","message","includes","ɵɵdirectiveInject","i1","i2","i3","i4","i5","selectors","decls","vars","consts","template","CancelarAssinaturaComponent_Template","rf","ctx","CancelarAssinaturaComponent_ng_container_4_Template","CancelarAssinaturaComponent_ng_template_5_Template","ɵɵtemplateRefExtractor","cancelContent_r4","i6","NgClass","NgIf","ɵNgNoValidate","DefaultValueAccessor","NgControlStatus","NgControlStatusGroup","FormGroupDirective","FormControlName","i7","MatIconButton","i8","MatCheckbox","i9","MatIcon","styles"],"sources":["/home/danilo/Área de trabalho/formsync-nx/apps/front/src/app/components/cancelar-assinatura/cancelar-assinatura.component.ts","/home/danilo/Área de trabalho/formsync-nx/apps/front/src/app/components/cancelar-assinatura/cancelar-assinatura.component.html"],"sourcesContent":["import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormBuilder, FormGroup, Validators, ReactiveFormsModule } from '@angular/forms';\nimport { MatCardModule } from '@angular/material/card';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatSelectModule } from '@angular/material/select';\nimport { MatCheckboxModule } from '@angular/material/checkbox';\nimport { NotificationService } from '../../services/notification.service';\nimport { MatDialogModule, MatDialog } from '@angular/material/dialog';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatProgressSpinnerModule } from '@angular/material/progress-spinner';\nimport { Router } from '@angular/router';\nimport { Subject, takeUntil } from 'rxjs';\n\nimport { AssinaturaService, CancelarAssinaturaDTO, CancelamentoResponseDTO, AssinaturaResponseDTO } from '../../services/assinatura.service';\nimport { AuthService } from '../../services/auth.service';\nimport { SidebarComponent } from '../sidebar/sidebar.component';\nimport { FooterComponent } from '../footer/footer.component';\n\ninterface NotificacaoCustom {\n  tipo: 'success' | 'error' | 'warning' | 'info';\n  titulo: string;\n  mensagem: string;\n  detalhes?: string;\n  mostrar: boolean;\n  icone: string;\n}\n\n@Component({\n  selector: 'app-cancelar-assinatura',\n  standalone: true,\n  imports: [\n    CommonModule,\n    ReactiveFormsModule,\n    MatCardModule,\n    MatButtonModule,\n    MatFormFieldModule,\n    MatInputModule,\n    MatSelectModule,\n    MatCheckboxModule,\n\n    MatDialogModule,\n    MatIconModule,\n    MatProgressSpinnerModule,\n    SidebarComponent,\n    FooterComponent,\n  ],\n  templateUrl: './cancelar-assinatura.component.html',\n  styleUrl: './cancelar-assinatura.component.css'\n})\nexport class CancelarAssinaturaComponent implements OnInit, OnDestroy {\n  cancelamentoForm: FormGroup;\n  assinaturaAtual: AssinaturaResponseDTO | null = null;\n  carregando = false;\n  carregandoPagina = true;\n  notificacao: NotificacaoCustom | null = null;\n  private destroy$ = new Subject<void>();\n\n  constructor(\n    private fb: FormBuilder,\n    private assinaturaService: AssinaturaService,\n    private authService: AuthService,\n    private notificationService: NotificationService,\n    private router: Router\n  ) {\n    this.cancelamentoForm = this.fb.group({\n      motivo: ['', [Validators.required, Validators.minLength(10)]],\n      dataCancelamento: [''],\n      solicitarReembolso: [false]\n    });\n  }\n\n  ngOnInit(): void {\n    this.carregarAssinaturaAtual();\n  }\n\n  ngOnDestroy(): void {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n\n  mostrarNotificacao(tipo: 'success' | 'error' | 'warning' | 'info', titulo: string, mensagem: string, detalhes?: string): void {\n    const icones = {\n      success: 'check_circle',\n      error: 'error',\n      warning: 'warning',\n      info: 'info'\n    };\n\n    this.notificacao = {\n      tipo,\n      titulo,\n      mensagem,\n      detalhes,\n      mostrar: true,\n      icone: icones[tipo]\n    };\n  }\n\n  fecharNotificacao(): void {\n    if (this.notificacao) {\n      // Iniciar animação de saída\n      this.notificacao.mostrar = false;\n\n      // Limpar a notificação após a animação\n      setTimeout(() => {\n        this.notificacao = null;\n      }, 300);\n    }\n  }\n\n  carregarAssinaturaAtual(): void {\n    this.carregandoPagina = true;\n    this.assinaturaService.consultarAssinaturaUsuarioLogado()\n      .pipe(takeUntil(this.destroy$))\n      .subscribe({\n        next: (assinatura) => {\n          this.assinaturaAtual = assinatura;\n          this.carregandoPagina = false;\n\n          // ✅ VERIFICAR SE ASSINATURA JÁ ESTÁ CANCELADA\n          if (assinatura.status === 'CANCELADA') {\n            this.mostrarNotificacao(\n              'warning',\n              'Assinatura Cancelada',\n              'Esta assinatura já foi cancelada anteriormente.',\n              'Você será redirecionado para o dashboard em alguns segundos.'\n            );\n\n            // Redirecionar para dashboard após 5 segundos\n            setTimeout(() => {\n              this.router.navigate(['/dashboard']);\n            }, 5000);\n          }\n        },\n        error: (error) => {\n          console.error('Erro ao carregar assinatura:', error);\n          this.carregandoPagina = false;\n\n          // ✅ MELHOR TRATAMENTO DE ERRO\n          if (error.status === 404) {\n            this.mostrarNotificacao(\n              'info',\n              'Assinatura Não Encontrada',\n              'Nenhuma assinatura ativa foi encontrada para sua conta.',\n              'Você será redirecionado para o dashboard.'\n            );\n\n            setTimeout(() => {\n              this.router.navigate(['/dashboard']);\n            }, 5000);\n          } else {\n            this.mostrarNotificacao(\n              'error',\n              'Erro ao Carregar',\n              'Não foi possível carregar os dados da assinatura.',\n              'Verifique sua conexão e tente novamente.'\n            );\n          }\n        }\n      });\n  }\n\n  onSubmit(): void {\n    if (this.cancelamentoForm.invalid || !this.assinaturaAtual) {\n      return;\n    }\n\n    // ✅ VERIFICAR SE ASSINATURA JÁ ESTÁ CANCELADA ANTES DE ENVIAR\n    if (this.assinaturaAtual.status === 'CANCELADA') {\n      this.mostrarNotificacao(\n        'warning',\n        'Assinatura Já Cancelada',\n        'Esta assinatura já foi cancelada anteriormente.',\n        'Não é possível cancelar novamente.'\n      );\n      return;\n    }\n\n    // ✅ PREVENIR MÚLTIPLOS CLIQUES\n    if (this.carregando) {\n      return;\n    }\n\n    this.carregando = true;\n    const dto: CancelarAssinaturaDTO = {\n      motivo: this.cancelamentoForm.value.motivo,\n      dataCancelamento: this.cancelamentoForm.value.dataCancelamento || undefined,\n      solicitarReembolso: this.cancelamentoForm.value.solicitarReembolso\n    };\n\n    this.assinaturaService.cancelarAssinatura(this.assinaturaAtual.id, dto)\n      .pipe(takeUntil(this.destroy$))\n      .subscribe({\n        next: (response: CancelamentoResponseDTO) => {\n          this.carregando = false;\n\n          // ✅ ATUALIZAR STATUS LOCAL PARA EVITAR NOVOS ENVIOS\n          if (this.assinaturaAtual) {\n            this.assinaturaAtual.status = 'CANCELADA';\n          }\n\n          // Criar mensagem detalhada sobre o reembolso\n          let detalhesReembolso = '';\n\n          if (response.dentroDoArrependimento) {\n            detalhesReembolso = '✅ Reembolso integral processado conforme CDC Art. 49 (Direito de Arrependimento)';\n          } else if (response.valorReembolso && response.valorReembolso > 0) {\n            detalhesReembolso = `💰 Reembolso proporcional de R$ ${response.valorReembolso.toFixed(2)} será processado`;\n          } else {\n            detalhesReembolso = 'ℹ️ Não há reembolso aplicável para este cancelamento';\n          }\n\n          this.mostrarNotificacao(\n            'success',\n            'Assinatura Cancelada com Sucesso!',\n            response.mensagem,\n            detalhesReembolso + ' • Você será redirecionado em alguns segundos.'\n          );\n\n          // Redirecionar para dashboard após cancelamento (sem fechar automaticamente a notificação)\n          setTimeout(() => {\n            this.router.navigate(['/dashboard']);\n          }, 8000);\n        },\n        error: (error) => {\n          console.error('Erro ao cancelar assinatura:', error);\n          this.carregando = false;\n\n          const mensagem = this.getMensagemErro(error);\n          this.mostrarNotificacao(\n            'error',\n            'Erro ao Cancelar Assinatura',\n            mensagem,\n            'Verifique os dados e tente novamente.'\n          );\n        }\n      });\n  }\n\n  voltar(): void {\n    this.router.navigate(['/dashboard']);\n  }\n\n  getNomePlano(plano: string): string {\n    const planos: { [key: string]: string } = {\n      'GRATIS': 'Gratuito',\n      'PROFISSIONAL': 'Profissional',\n      'EMPRESARIAL': 'Empresarial',\n      'VITALICIO': 'Vitalício'\n    };\n    return planos[plano] || plano;\n  }\n\n  formatarData(data: string): string {\n    return new Date(data).toLocaleDateString('pt-BR', {\n      day: '2-digit',\n      month: '2-digit',\n      year: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  }\n\n  getMensagemErro(error: any): string {\n    // ✅ TRATAMENTO ESPECÍFICO PARA ASSINATURA JÁ CANCELADA\n    if (error.error?.message && error.error.message.includes('CANCELADA')) {\n      return 'Esta assinatura já foi cancelada anteriormente. Não é possível cancelar novamente.';\n    }\n\n    if (error.error?.message) {\n      return error.error.message;\n    }\n\n    if (error.status === 403) {\n      return 'Você não tem permissão para cancelar esta assinatura';\n    }\n    if (error.status === 404) {\n      return 'Assinatura não encontrada';\n    }\n    if (error.status === 400) {\n      // ✅ VERIFICAR SE É ERRO DE STATUS ESPECÍFICO\n      if (error.error?.message?.includes('Status atual')) {\n        return 'Esta assinatura não pode ser cancelada devido ao seu status atual.';\n      }\n      return 'Dados inválidos para cancelamento';\n    }\n    return 'Erro ao cancelar assinatura. Tente novamente.';\n  }\n} ","<!-- Layout Cancelamento Moderno -->\n<div class=\"min-h-screen bg-gray-50\">\n\n  <!-- Layout Principal -->\n  <div class=\"flex h-full\">\n    <!-- Sidebar -->\n    <app-sidebar></app-sidebar>\n\n    <!-- Conteúdo Principal -->\n    <main class=\"flex-1 p-6 overflow-y-auto\">\n\n      <!-- Loading State Moderno -->\n      <ng-container *ngIf=\"carregandoPagina; else cancelContent\">\n        <div class=\"flex flex-col items-center justify-center py-20\">\n          <div class=\"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600\"></div>\n          <h3 class=\"mt-6 text-xl font-semibold text-gray-900\">\n            Carregando Assinatura\n          </h3>\n          <p class=\"text-gray-500 mt-2\">\n            Aguarde enquanto preparamos suas informações de assinatura...\n          </p>\n        </div>\n      </ng-container>\n\n      <ng-template #cancelContent>\n        <!-- Notificação Customizada -->\n        <div *ngIf=\"notificacao\" class=\"fixed top-4 right-4 z-50 max-w-md w-full\"\n          [ngClass]=\"{'notification-hiding': !notificacao.mostrar}\">\n          <div class=\"p-4 rounded-lg border shadow-lg\" [ngClass]=\"{\n                 'border-green-200 bg-green-50': notificacao.tipo === 'success',\n                 'border-red-200 bg-red-50': notificacao.tipo === 'error',\n                 'border-yellow-200 bg-yellow-50': notificacao.tipo === 'warning',\n                 'border-blue-200 bg-blue-50': notificacao.tipo === 'info'\n               }\">\n            <div class=\"flex items-start space-x-3\">\n              <div class=\"flex-shrink-0\">\n                <mat-icon class=\"text-lg\" [ngClass]=\"{\n                           'text-green-600': notificacao.tipo === 'success',\n                           'text-red-600': notificacao.tipo === 'error',\n                           'text-yellow-600': notificacao.tipo === 'warning',\n                           'text-blue-600': notificacao.tipo === 'info'\n                         }\">\n                  {{ notificacao.icone }}\n                </mat-icon>\n              </div>\n              <div class=\"flex-1\">\n                <h4 class=\"text-sm font-medium\" [ngClass]=\"{\n                      'text-green-800': notificacao.tipo === 'success',\n                      'text-red-800': notificacao.tipo === 'error',\n                      'text-yellow-800': notificacao.tipo === 'warning',\n                      'text-blue-800': notificacao.tipo === 'info'\n                    }\">\n                  {{ notificacao.titulo }}\n                </h4>\n                <p class=\"text-sm mt-1\" [ngClass]=\"{\n                     'text-green-700': notificacao.tipo === 'success',\n                     'text-red-700': notificacao.tipo === 'error',\n                     'text-yellow-700': notificacao.tipo === 'warning',\n                     'text-blue-700': notificacao.tipo === 'info'\n                   }\">\n                  {{ notificacao.mensagem }}\n                </p>\n                <p *ngIf=\"notificacao.detalhes\" class=\"text-xs mt-2 text-gray-600\">\n                  {{ notificacao.detalhes }}\n                </p>\n              </div>\n              <button mat-icon-button\n                class=\"flex-shrink-0 text-gray-400 hover:text-gray-600 transition-colors duration-200\"\n                (click)=\"fecharNotificacao()\" aria-label=\"Fechar notificação\">\n                <mat-icon class=\"text-lg\">close</mat-icon>\n              </button>\n            </div>\n          </div>\n        </div>\n\n        <!-- Boas-vindas e Header -->\n        <div class=\"mb-8\">\n          <div class=\"flex justify-between items-start\">\n            <div class=\"flex-1\">\n              <h1 class=\"text-2xl font-bold text-gray-900 mb-2\">\n                Cancelar Assinatura\n              </h1>\n              <p class=\"text-gray-600\">\n                Gerencie sua assinatura e solicite cancelamento a qualquer momento\n              </p>\n            </div>\n            <div class=\"flex-shrink-0\">\n              <div class=\"inline-flex items-center px-3 py-2 bg-red-100 text-red-800 rounded-lg text-sm font-medium\">\n                <mat-icon class=\"text-red-600 mr-2 text-base\">warning</mat-icon>\n                Ação Irreversível\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <!-- Detalhes da Assinatura -->\n        <div *ngIf=\"assinaturaAtual\" class=\"mb-8\">\n          <div class=\"bg-white rounded-xl border border-gray-200 p-6\">\n            <div class=\"flex items-center gap-3 mb-6\">\n              <div class=\"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center\">\n                <mat-icon class=\"text-blue-600\">receipt</mat-icon>\n              </div>\n              <div>\n                <h2 class=\"text-xl font-semibold text-gray-900\">Detalhes da Assinatura</h2>\n                <p class=\"text-gray-500 text-sm\">Informações sobre seu plano atual</p>\n              </div>\n            </div>\n\n            <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n              <!-- Plano -->\n              <div\n                class=\"p-4 bg-gray-50 rounded-lg border border-gray-200 hover:border-gray-300 transition-colors duration-200\">\n                <div class=\"flex items-center space-x-4\">\n                  <div\n                    class=\"w-12 h-12 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl flex items-center justify-center\">\n                    <mat-icon class=\"text-white\">star</mat-icon>\n                  </div>\n                  <div>\n                    <label class=\"block text-sm font-medium text-gray-600 mb-1\">Plano</label>\n                    <div class=\"text-lg font-semibold text-gray-800\">{{ getNomePlano(assinaturaAtual.plano) }}</div>\n                  </div>\n                </div>\n              </div>\n\n              <!-- Status -->\n              <div\n                class=\"p-4 bg-gray-50 rounded-lg border border-gray-200 hover:border-gray-300 transition-colors duration-200\">\n                <div class=\"flex items-center space-x-4\">\n                  <div class=\"w-12 h-12 rounded-xl flex items-center justify-center\" [ngClass]=\"{\n                         'bg-gradient-to-br from-green-500 to-emerald-600': assinaturaAtual.status === 'ATIVA',\n                         'bg-gradient-to-br from-red-500 to-pink-600': assinaturaAtual.status === 'CANCELADA'\n                       }\">\n                    <mat-icon class=\"text-white\">\n                      {{ assinaturaAtual.status === 'ATIVA' ? 'check_circle' : 'cancel' }}\n                    </mat-icon>\n                  </div>\n                  <div>\n                    <label class=\"block text-sm font-medium text-gray-600 mb-1\">Status</label>\n                    <div class=\"text-lg font-semibold\" [ngClass]=\"{\n                           'text-green-800': assinaturaAtual.status === 'ATIVA',\n                           'text-red-800': assinaturaAtual.status === 'CANCELADA'\n                         }\">\n                      {{ assinaturaAtual.status }}\n                      <span *ngIf=\"assinaturaAtual.status === 'CANCELADA'\"\n                        class=\"ml-2 inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800\">\n                        Cancelada\n                      </span>\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n              <!-- Data de Início -->\n              <div\n                class=\"p-4 bg-gray-50 rounded-lg border border-gray-200 hover:border-gray-300 transition-colors duration-200\">\n                <div class=\"flex items-center space-x-4\">\n                  <div\n                    class=\"w-12 h-12 bg-gradient-to-br from-purple-500 to-pink-600 rounded-xl flex items-center justify-center\">\n                    <mat-icon class=\"text-white\">event</mat-icon>\n                  </div>\n                  <div>\n                    <label class=\"block text-sm font-medium text-gray-600 mb-1\">Data de Início</label>\n                    <div class=\"text-lg font-semibold text-gray-800\">{{ formatarData(assinaturaAtual.dataInicio) }}\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n              <!-- Próxima Cobrança -->\n              <div\n                class=\"p-4 bg-gray-50 rounded-lg border border-gray-200 hover:border-gray-300 transition-colors duration-200\">\n                <div class=\"flex items-center space-x-4\">\n                  <div\n                    class=\"w-12 h-12 bg-gradient-to-br from-orange-500 to-red-600 rounded-xl flex items-center justify-center\">\n                    <mat-icon class=\"text-white\">schedule</mat-icon>\n                  </div>\n                  <div>\n                    <label class=\"block text-sm font-medium text-gray-600 mb-1\">Próxima Cobrança</label>\n                    <div class=\"text-lg font-semibold text-gray-800\">{{\n                      formatarData(assinaturaAtual.dataProximaCobranca) }}</div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <!-- Formulário de Cancelamento -->\n        <div class=\"mb-8\">\n          <div class=\"bg-white rounded-xl border border-gray-200 p-6\">\n            <div class=\"flex items-center gap-3 mb-6\">\n              <div class=\"w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center\">\n                <mat-icon class=\"text-red-600\">cancel</mat-icon>\n              </div>\n              <div>\n                <h2 class=\"text-xl font-semibold text-gray-900\">Solicitar Cancelamento</h2>\n                <p class=\"text-gray-500 text-sm\">Preencha os dados para cancelar sua assinatura</p>\n              </div>\n            </div>\n\n            <form [formGroup]=\"cancelamentoForm\" (ngSubmit)=\"onSubmit()\" class=\"space-y-6\">\n\n                              <!-- Motivo do Cancelamento -->\n                <div class=\"w-full\">\n                  <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Motivo do Cancelamento *\n                  </label>\n                  <textarea \n                    formControlName=\"motivo\"\n                    placeholder=\"Por favor, informe o motivo do cancelamento...\" \n                    rows=\"4\"\n                    class=\"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all duration-200\">\n                  </textarea>\n                  <div *ngIf=\"cancelamentoForm.get('motivo')?.hasError('required') && cancelamentoForm.get('motivo')?.touched\"\n                    class=\"text-red-500 text-xs mt-1\">Motivo é obrigatório</div>\n                  <div *ngIf=\"cancelamentoForm.get('motivo')?.hasError('minlength') && cancelamentoForm.get('motivo')?.touched\"\n                    class=\"text-red-500 text-xs mt-1\">Motivo deve ter pelo menos 10 caracteres</div>\n                </div>\n\n                <!-- Data de Cancelamento -->\n                <div class=\"w-full\">\n                  <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Data de Cancelamento\n                  </label>\n                  <input \n                    type=\"datetime-local\" \n                    formControlName=\"dataCancelamento\"\n                    class=\"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all duration-200\">\n                  <div class=\"text-xs text-gray-500 mt-1\">Deixe em branco para cancelar imediatamente</div>\n                </div>\n\n              <!-- Solicitar Reembolso -->\n              <div class=\"w-full\">\n                <mat-checkbox formControlName=\"solicitarReembolso\" class=\"w-full\">\n                  <span class=\"text-sm font-medium text-gray-700\">\n                    Solicitar reembolso pelo período não utilizado\n                  </span>\n                </mat-checkbox>\n              </div>\n\n              <!-- Política de Reembolso -->\n              <div class=\"mt-6 p-4 bg-gradient-to-br from-blue-50 to-indigo-50 border border-blue-200 rounded-lg\">\n                <div class=\"flex items-center gap-3 mb-4\">\n                  <div class=\"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center\">\n                    <mat-icon class=\"text-blue-600 text-lg\">gavel</mat-icon>\n                  </div>\n                  <h4 class=\"text-lg font-semibold text-blue-900\">Política de Reembolso</h4>\n                </div>\n                <div class=\"space-y-3\">\n                  <p class=\"text-sm text-blue-800\">\n                    <strong>Conforme CDC Art. 49 (Direito de Arrependimento):</strong>\n                  </p>\n                  <ul class=\"space-y-2\">\n                    <li class=\"flex items-center gap-3 text-sm text-blue-700\">\n                      <div class=\"w-2 h-2 bg-green-500 rounded-full\"></div>\n                      <span><strong>Primeiros 7 dias:</strong> Reembolso integral</span>\n                    </li>\n                    <li class=\"flex items-center gap-3 text-sm text-blue-700\">\n                      <div class=\"w-2 h-2 bg-blue-500 rounded-full\"></div>\n                      <span><strong>Após 7 dias:</strong> Reembolso proporcional pelo período não utilizado</span>\n                    </li>\n                    <li class=\"flex items-center gap-3 text-sm text-blue-700\">\n                      <div class=\"w-2 h-2 bg-yellow-500 rounded-full\"></div>\n                      <span><strong>Sem reembolso:</strong> Quando não há período não utilizado</span>\n                    </li>\n                  </ul>\n                </div>\n              </div>\n\n              <!-- Ações -->\n              <div class=\"flex gap-4 pt-6\">\n                <button type=\"button\" (click)=\"voltar()\" [disabled]=\"carregando\"\n                  class=\"flex-1 px-6 py-3 bg-gray-100 hover:bg-gray-200 text-gray-700 font-medium rounded-lg transition-all duration-200 border border-gray-300 hover:border-gray-400 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2\">\n                  <mat-icon class=\"text-base\">arrow_back</mat-icon>\n                  <span>Voltar</span>\n                </button>\n                <button type=\"submit\"\n                  [disabled]=\"cancelamentoForm.invalid || carregando || assinaturaAtual?.status === 'CANCELADA'\"\n                  class=\"flex-1 px-6 py-3 bg-purple-600 hover:bg-purple-700 text-white font-medium rounded-lg transition-all duration-200 border border-purple-600 hover:border-purple-700 disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center justify-center space-x-2\">\n                  <div *ngIf=\"carregando\" class=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white\"></div>\n                  <mat-icon *ngIf=\"!carregando && assinaturaAtual?.status !== 'CANCELADA'\"\n                    class=\"text-base\">cancel</mat-icon>\n                  <mat-icon *ngIf=\"!carregando && assinaturaAtual?.status === 'CANCELADA'\"\n                    class=\"text-base\">block</mat-icon>\n                  <span>{{\n                    carregando ? 'Cancelando...' :\n                    assinaturaAtual?.status === 'CANCELADA' ? 'Já Cancelada' :\n                    'Confirmar Cancelamento'\n                    }}</span>\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      </ng-template>\n    </main>\n  </div>\n</div>\n\n<!-- Footer -->\n<app-footer></app-footer>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}