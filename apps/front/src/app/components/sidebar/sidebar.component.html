<aside class="w-64 bg-white border-r border-gray-200 min-h-screen flex flex-col hidden lg:flex" role="complementary"
    aria-label="Menu lateral" id="sidebar">
    <div class="flex flex-col h-full sidebar-min-h-screen">
        <!-- Menu de navegação -->
        <nav class="flex-1 p-4" role="navigation" aria-label="Menu principal">
            <div class="mb-6">
                <h2 class="text-xs font-semibold text-gray-500 uppercase tracking-wider mb-3">Navegação</h2>
                <div class="space-y-2">
                    <div class="group">
                        <a routerLink="/dashboard" routerLinkActive="bg-blue-50 border-blue-200 text-blue-700"
                            class="flex items-center space-x-2 px-3 py-2 rounded-xl border border-transparent transition-all duration-200 hover:bg-gray-50 hover:border-gray-200 group-hover:shadow-sm"
                            aria-label="Ir para dashboard" matTooltip="Visualizar dashboard">
                            <mat-icon
                                class="text-gray-500 group-hover:text-blue-600 transition-colors duration-200 text-lg">dashboard</mat-icon>
                            <span
                                class="font-medium text-gray-700 group-hover:text-blue-700 transition-colors duration-200 text-sm">Dashboard</span>
                            <div
                                class="ml-auto w-2 h-2 bg-blue-500 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-200">
                            </div>
                        </a>
                    </div>

                    <div class="group">
                        <a routerLink="/formularios" routerLinkActive="bg-blue-50 border-blue-200 text-blue-700"
                            class="flex items-center space-x-2 px-3 py-2 rounded-xl border border-transparent transition-all duration-200 hover:bg-gray-50 hover:border-gray-200 group-hover:shadow-sm"
                            aria-label="Gerenciar formularios" matTooltip="Criar e gerenciar formularios">
                            <mat-icon
                                class="text-gray-500 group-hover:text-blue-600 transition-colors duration-200 text-lg">article</mat-icon>
                            <span
                                class="font-medium text-gray-700 group-hover:text-blue-700 transition-colors duration-200 text-sm">Formulários</span>
                            <div
                                class="ml-auto w-2 h-2 bg-blue-500 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-200">
                            </div>
                        </a>
                    </div>



                    <div class="group" *ngIf="podeAcessarAnalytics()">
                        <a routerLink="/analytics" routerLinkActive="bg-blue-50 border-blue-200 text-blue-700"
                            class="flex items-center space-x-2 px-3 py-2 rounded-xl border border-transparent transition-all duration-200 hover:bg-gray-50 hover:border-gray-200 group-hover:shadow-sm"
                            aria-label="Visualizar analytics" matTooltip="Analytics avançados">
                            <mat-icon
                                class="text-gray-500 group-hover:text-blue-600 transition-colors duration-200 text-lg">analytics</mat-icon>
                            <span
                                class="font-medium text-gray-700 group-hover:text-blue-700 transition-colors duration-200 text-sm">Analytics</span>
                            <div
                                class="ml-auto w-2 h-2 bg-blue-500 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-200">
                            </div>
                        </a>
                    </div>



                    <div class="group" *ngIf="podeAcessarUploadCsv()">
                        <a routerLink="/upload-csv" routerLinkActive="bg-blue-50 border-blue-200 text-blue-700"
                            class="flex items-center space-x-2 px-3 py-2 rounded-xl border border-transparent transition-all duration-200 hover:bg-gray-50 hover:border-gray-200 group-hover:shadow-sm"
                            aria-label="Importar arquivo CSV" matTooltip="Importar dados via CSV">
                            <mat-icon
                                class="text-gray-500 group-hover:text-blue-600 transition-colors duration-200 text-lg">upload_file</mat-icon>
                            <span
                                class="font-medium text-gray-700 group-hover:text-blue-700 transition-colors duration-200 text-sm">Importar
                                CSV</span>
                            <div
                                class="ml-auto w-2 h-2 bg-blue-500 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-200">
                            </div>
                        </a>
                    </div>



                    <div class="group">
                        <a routerLink="/perfil" routerLinkActive="bg-blue-50 border-blue-200 text-blue-700"
                            class="flex items-center space-x-2 px-3 py-2 rounded-xl border border-transparent transition-all duration-200 hover:bg-gray-50 hover:border-gray-200 group-hover:shadow-sm"
                            aria-label="Gerenciar perfil" matTooltip="Configurar perfil">
                            <mat-icon
                                class="text-gray-500 group-hover:text-blue-600 transition-colors duration-200 text-lg">person</mat-icon>
                            <span
                                class="font-medium text-gray-700 group-hover:text-blue-700 transition-colors duration-200 text-sm">Perfil</span>
                            <div
                                class="ml-auto w-2 h-2 bg-blue-500 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-200">
                            </div>
                        </a>
                    </div>


                    <!--
                    <div class="group" *ngIf="planoUsuario !== 'EMPRESARIAL'">
                        <a routerLink="/upgrade" routerLinkActive="bg-blue-50 border-blue-200 text-blue-700"
                            class="flex items-center space-x-2 px-3 py-2 rounded-xl border border-transparent transition-all duration-200 hover:bg-gray-50 hover:border-gray-200 group-hover:shadow-sm"
                            aria-label="Fazer upgrade do plano" matTooltip="Ver planos disponíveis">
                            <mat-icon
                                class="text-gray-500 group-hover:text-blue-600 transition-colors duration-200 text-lg">star</mat-icon>
                            <span
                                class="font-medium text-gray-700 group-hover:text-blue-700 transition-colors duration-200 text-sm">Upgrade</span>
                            <div
                                class="ml-auto w-2 h-2 bg-blue-500 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-200">
                            </div>
                        </a>
                    </div>             
       -->
                </div>
            </div>
        </nav>

        <!-- Seção de boas-vindas 
        <div class="p-4" role="banner" aria-label="Boas-vindas" *ngIf="!tourCompleted">
            <div class="bg-gradient-to-br from-blue-50 to-indigo-100 shadow-lg rounded-2xl border border-blue-200 p-3">
                <div class="flex justify-between items-start mb-2">
                    <h3 class="text-sm font-bold text-blue-800 m-0">Bem-vindo!</h3>
                    <button mat-icon-button
                        class="!bg-blue-200 hover:!bg-blue-300 rounded-full transition-all duration-200 p-1"
                        (click)="closeWelcomeCard()" matTooltip="Fechar">
                        <mat-icon class="text-blue-600 text-sm">close</mat-icon>
                    </button>
                </div>
                <div class="mb-2">
                    <p class="text-blue-700 text-xs m-0 mb-2">Gerencie suas informações e acompanhe suas atividades
                    </p>
                    <div class="flex gap-2">
                        <button
                            class="bg-blue-600 hover:bg-blue-700 text-white px-2 py-1 rounded-lg font-semibold transition-all duration-200 hover:scale-105 shadow-md text-xs"
                            (click)="startTour()" aria-label="Iniciar tour guiado" matTooltip="Começar tour guiado">
                            Tour Guiado
                        </button>
                        <button
                            class="bg-white hover:bg-blue-50 text-blue-600 border border-blue-300 px-2 py-1 rounded-lg font-semibold transition-all duration-200 hover:scale-105 text-xs"
                            (click)="skipTour()" aria-label="Pular tour" matTooltip="Pular tour">
                            Pular
                        </button>
                    </div>
                </div>
            </div>
        </div>                                                                                                                                                                       
         
        -->

    </div>
</aside>

<!-- Mobile Sidebar Overlay -->
<div *ngIf="mobileMenuOpen" class="fixed inset-0 z-50 lg:hidden" (click)="closeMobileMenu()">
    <div class="fixed inset-0 bg-black bg-opacity-50"></div>
    <aside
        class="fixed left-0 top-0 h-full w-64 bg-white border-r border-gray-200 transform transition-transform duration-300 ease-in-out translate-x-0"
        (click)="$event.stopPropagation()">
        <div class="flex flex-col h-full">
            <!-- Mobile Header -->
            <div class="flex items-center justify-between p-4 border-b border-gray-200">
                <h2 class="text-lg font-semibold text-gray-900">Menu</h2>
                <button (click)="closeMobileMenu()"
                    class="p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12">
                        </path>
                    </svg>
                </button>
            </div>

            <!-- Mobile Navigation -->
            <nav class="flex-1 p-4" role="navigation" aria-label="Menu principal mobile">
                <div class="mb-6">
                    <h2 class="text-xs font-semibold text-gray-500 uppercase tracking-wider mb-3">Navegação</h2>
                    <div class="space-y-2">
                        <div class="group">
                            <a routerLink="/dashboard" routerLinkActive="bg-blue-50 border-blue-200 text-blue-700"
                                class="flex items-center space-x-2 px-3 py-2 rounded-xl border border-transparent transition-all duration-200 hover:bg-gray-50 hover:border-gray-200 group-hover:shadow-sm"
                                aria-label="Ir para dashboard" matTooltip="Visualizar dashboard"
                                (click)="closeMobileMenu()">
                                <mat-icon
                                    class="text-gray-500 group-hover:text-blue-600 transition-colors duration-200 text-lg">dashboard</mat-icon>
                                <span
                                    class="font-medium text-gray-700 group-hover:text-blue-700 transition-colors duration-200 text-sm">Dashboard</span>
                                <div
                                    class="ml-auto w-2 h-2 bg-blue-500 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-200">
                                </div>
                            </a>
                        </div>

                        <div class="group">
                            <a routerLink="/formularios" routerLinkActive="bg-blue-50 border-blue-200 text-blue-700"
                                class="flex items-center space-x-2 px-3 py-2 rounded-xl border border-transparent transition-all duration-200 hover:bg-gray-50 hover:border-gray-200 group-hover:shadow-sm"
                                aria-label="Gerenciar formularios" matTooltip="Criar e gerenciar formularios"
                                (click)="closeMobileMenu()">
                                <mat-icon
                                    class="text-gray-500 group-hover:text-blue-600 transition-colors duration-200 text-lg">article</mat-icon>
                                <span
                                    class="font-medium text-gray-700 group-hover:text-blue-700 transition-colors duration-200 text-sm">Formulários</span>
                                <div
                                    class="ml-auto w-2 h-2 bg-blue-500 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-200">
                                </div>
                            </a>
                        </div>

                        <div class="group" *ngIf="podeAcessarAnalytics()">
                            <a routerLink="/analytics" routerLinkActive="bg-blue-50 border-blue-200 text-blue-700"
                                class="flex items-center space-x-2 px-3 py-2 rounded-xl border border-transparent transition-all duration-200 hover:bg-gray-50 hover:border-gray-200 group-hover:shadow-sm"
                                aria-label="Visualizar analytics" matTooltip="Analytics avançados"
                                (click)="closeMobileMenu()">
                                <mat-icon
                                    class="text-gray-500 group-hover:text-blue-600 transition-colors duration-200 text-lg">analytics</mat-icon>
                                <span
                                    class="font-medium text-gray-700 group-hover:text-blue-700 transition-colors duration-200 text-sm">Analytics</span>
                                <div
                                    class="ml-auto w-2 h-2 bg-blue-500 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-200">
                                </div>
                            </a>
                        </div>

                        <div class="group" *ngIf="podeAcessarUploadCsv()">
                            <a routerLink="/upload-csv" routerLinkActive="bg-blue-50 border-blue-200 text-blue-700"
                                class="flex items-center space-x-2 px-3 py-2 rounded-xl border border-transparent transition-all duration-200 hover:bg-gray-50 hover:border-gray-200 group-hover:shadow-sm"
                                aria-label="Importar arquivo CSV" matTooltip="Importar dados via CSV"
                                (click)="closeMobileMenu()">
                                <mat-icon
                                    class="text-gray-500 group-hover:text-blue-600 transition-colors duration-200 text-lg">upload_file</mat-icon>
                                <span
                                    class="font-medium text-gray-700 group-hover:text-blue-700 transition-colors duration-200 text-sm">Importar
                                    CSV</span>
                                <div
                                    class="ml-auto w-2 h-2 bg-blue-500 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-200">
                                </div>
                            </a>
                        </div>

                        <div class="group">
                            <a routerLink="/perfil" routerLinkActive="bg-blue-50 border-blue-200 text-blue-700"
                                class="flex items-center space-x-2 px-3 py-2 rounded-xl border border-transparent transition-all duration-200 hover:bg-gray-50 hover:border-gray-200 group-hover:shadow-sm"
                                aria-label="Gerenciar perfil" matTooltip="Configurar perfil"
                                (click)="closeMobileMenu()">
                                <mat-icon
                                    class="text-gray-500 group-hover:text-blue-600 transition-colors duration-200 text-lg">person</mat-icon>
                                <span
                                    class="font-medium text-gray-700 group-hover:text-blue-700 transition-colors duration-200 text-sm">Perfil</span>
                                <div
                                    class="ml-auto w-2 h-2 bg-blue-500 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-200">
                                </div>
                            </a>
                        </div>

                        <!--
            <div class="group" *ngIf="planoUsuario !== 'EMPRESARIAL'">
              <a routerLink="/upgrade" routerLinkActive="bg-blue-50 border-blue-200 text-blue-700"
                  class="flex items-center space-x-2 px-3 py-2 rounded-xl border border-transparent transition-all duration-200 hover:bg-gray-50 hover:border-gray-200 group-hover:shadow-sm"
                  aria-label="Fazer upgrade do plano" matTooltip="Ver planos disponíveis" (click)="closeMobileMenu()">
                <mat-icon
                    class="text-gray-500 group-hover:text-blue-600 transition-colors duration-200 text-lg">star</mat-icon>
                <span
                    class="font-medium text-gray-700 group-hover:text-blue-700 transition-colors duration-200 text-sm">Upgrade</span>
                <div
                    class="ml-auto w-2 h-2 bg-blue-500 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-200">
                </div>
              </a>
            </div>  
          -->
                    </div>
                </div>
            </nav>
        </div>
    </aside>
</div>